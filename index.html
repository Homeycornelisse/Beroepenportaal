<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Kansrijke Beroepen Portaal 2025-2026</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['DM Sans', 'sans-serif'], mono: ['DM Mono', 'monospace'] },
          colors: { uwv: { blue: '#003082', mid: '#0055b3', light: '#e8f0fb', orange: '#e85d00', bg: '#f4f6fb' } }
        }
      }
    };
  </script>

  <style>
    :root { --blue:#003082; --mid:#0055b3; --orange:#e85d00; --bg:#f4f6fb; }
    body { font-family: 'DM Sans', sans-serif; }

    textarea { resize: none; min-height: 72px; }
    textarea:focus { outline: none; border-color: var(--orange); box-shadow: 0 0 0 2px rgba(232,93,0,.15); }

    .card { transition: box-shadow .15s, transform .15s; }
    .card:hover { box-shadow: 0 8px 24px rgba(0,48,130,.1); transform: translateY(-1px); }

    .lvl-basis { background:#fef3c7; color:#92400e; }
    .lvl-mid   { background:#dcfce7; color:#166534; }
    .lvl-hoger { background:#dbeafe; color:#1e40af; }

    @media print {
      .no-print { display: none !important; }
      body { background: white !important; margin: 0; padding: 0; }
      #portalView, #settingsView, #helpView, #begelView { display: none !important; }
      #exportView { display: block !important; }
      #begelExportView { display: block !important; }

      .export-banner {
        background: linear-gradient(135deg, #003082 0%, #0055b3 100%) !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        color: white !important;
      }
      .begel-export-banner {
        background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%) !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        color: white !important;
      }
      .export-sector-header {
        background: #e8f0fb !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .export-lvl-badge, .lvl-basis, .lvl-mid, .lvl-hoger {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .export-card { border: 1px solid #e2e8f0 !important; break-inside: avoid; }
      .star-filled { color: #f59e0b !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    }

    .export-banner {
      background: linear-gradient(135deg, #003082 0%, #0055b3 100%);
      padding: 32px 40px;
      color: white;
      border-radius: 0 0 16px 16px;
    }
  </style>

  <style id="printPageStyle"></style>
</head>

<body class="bg-uwv-bg text-slate-900" style="min-height:100vh;">

  <!-- NAV -->
  <nav class="bg-white sticky top-0 z-50 border-b border-slate-200 no-print shadow-sm">
    <div class="max-w-7xl mx-auto px-5 py-3 flex flex-wrap gap-3 justify-between items-center">
      <div class="flex items-center gap-3">
        <div class="rounded-lg p-1.5" style="background:var(--blue);">
          <svg width="26" height="26" viewBox="0 0 26 26" fill="none">
            <rect width="26" height="26" rx="6" fill="#003082"/>
            <text x="5" y="19" font-size="14" font-weight="700" fill="white" font-family="DM Sans">BP</text>
          </svg>
        </div>
        <div>
          <div class="font-bold text-base leading-tight" style="color:var(--blue)">Kansrijke Beroepen Portaal</div>
          <div id="dataBadge" class="text-xs text-slate-400 font-mono leading-tight"></div>
        </div>
      </div>

      <div class="flex flex-wrap gap-2 items-center">
        <button id="tabPortalBtn" onclick="showPortal()" class="px-3 py-1.5 rounded-lg text-sm font-semibold transition-all">Portaal</button>
        <button id="tabHelpBtn" onclick="showHelp()" class="px-3 py-1.5 rounded-lg text-sm font-semibold transition-all">Hoe werkt het?</button>
        <button id="tabSettingsBtn" onclick="showSettings()" class="px-3 py-1.5 rounded-lg text-sm font-semibold transition-all">Instellingen</button>
        <button id="tabBegelBtn" onclick="showBegeleider()" class="px-3 py-1.5 rounded-lg text-sm font-semibold transition-all flex items-center gap-1.5">&#128100; Begeleider</button>

        <input type="text" id="searchInput" placeholder="Zoek beroep of sector‚Ä¶"
               class="p-2 border border-slate-200 rounded-lg text-sm w-56 focus:border-blue-400 focus:ring-1 focus:ring-blue-100 outline-none">

        <button id="exportBtn"
                class="text-white px-4 py-2 rounded-lg text-sm font-bold shadow hover:opacity-90 transition"
                style="background:var(--orange);">
          ‚¨á Export mijn selectie
        </button>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-4 py-7">

    <!-- PORTAAL -->
    <section id="portalView">

      <div id="pdfBanner" class="hidden no-print mb-5">
        <div class="bg-amber-50 border border-amber-200 rounded-2xl p-4 flex flex-wrap items-center justify-between gap-3">
          <div>
            <div class="font-bold text-amber-900">Tip: upload eerst de UWV PDF</div>
            <div class="text-sm text-amber-800">
              Dan werken de "Meer info" links precies zoals in de PDF. Zonder upload gebruiken we zoeklinks.
            </div>
          </div>
          <button onclick="showSettings()"
            class="px-4 py-2 rounded-xl text-sm font-bold text-white hover:opacity-90 transition"
            style="background:var(--orange);">
            Ga naar instellingen
          </button>
        </div>
      </div>

      <!-- Filters -->
      <div class="flex flex-wrap gap-3 mb-6 no-print">
        <select id="sectorFilter" class="p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium shadow-sm outline-none focus:border-blue-400">
          <option value="all">Alle sectoren</option>
        </select>

        <select id="levelFilter" class="p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium shadow-sm outline-none focus:border-blue-400">
          <option value="all">Alle niveaus</option>
          <option value="Basis">Basisvakmanschap</option>
          <option value="Middelbaar">Middelbaar</option>
          <option value="Hoger">Hoger</option>
        </select>

        <select id="selectedFilter" class="p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium shadow-sm outline-none focus:border-blue-400">
          <option value="all">Alles tonen</option>
          <option value="selected">Alleen aangevinkt</option>
        </select>

        <button onclick="resetFilters()" class="px-3 py-2.5 rounded-xl bg-white border border-slate-200 text-sm font-medium hover:bg-slate-50 transition">
          Filters wissen
        </button>

        <div id="statusLine" class="text-sm text-slate-500 flex items-center font-mono"></div>
      </div>

      <div id="beroepenContainer" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5"></div>
    </section>

    <!-- INSTELLINGEN -->
    <section id="settingsView" class="hidden no-print">
      <div class="bg-white rounded-2xl p-7 shadow-sm border border-slate-200 max-w-xl">
        <h2 class="text-lg font-bold mb-1" style="color:var(--blue)">Instellingen</h2>
        <p class="text-sm text-slate-500 mb-5">
          Upload de UWV PDF om de gegevens bij te werken. Dan worden ook de "Meer info" links exact zoals in de PDF.
          Zonder upload gebruiken we een zoeklink als fallback.
        </p>

        <div class="p-4 rounded-xl bg-slate-50 border border-slate-200 mb-5">
          <div class="text-sm font-semibold text-slate-700 mb-1">Offici√´le UWV bron</div>
          <p class="text-xs text-slate-500 mb-3">Download de nieuwste PDF met kansrijke beroepen.</p>
          <a href="https://www.uwv.nl/nl/arbeidsmarktinformatie/kansen-beroep/kansrijke-beroepen"
             target="_blank" rel="noopener"
             class="inline-block text-white px-4 py-2 rounded-lg text-sm font-bold hover:opacity-90 transition"
             style="background:var(--blue);">
            Ga naar UWV.nl
          </a>
        </div>

        <div class="mb-4">
          <label class="text-sm font-semibold text-slate-700 block mb-2">Eigen PDF uploaden</label>
          <input id="pdfFileInput" type="file" accept="application/pdf"
                 class="w-full p-3 border border-slate-200 rounded-xl text-sm bg-white">
          <p class="text-xs text-slate-400 mt-1">Parseren kan een paar seconden duren.</p>
        </div>

        <div class="mb-5">
          <label class="text-sm font-semibold text-slate-700 block mb-2">Export ori√´ntatie</label>
          <select id="printOrientation" class="w-full p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:border-blue-400">
            <option value="portrait">Staand (A4 portrait)</option>
            <option value="landscape">Liggend (A4 landscape)</option>
          </select>
        </div>

        <div class="flex flex-wrap gap-3">
          <button onclick="loadDefault()" class="bg-white border border-slate-200 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-slate-50 transition">
            Standaard 2025‚Äì2026 laden
          </button>
          <button onclick="clearUserState()" class="bg-white border border-slate-200 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-slate-50 transition">
            Mijn notities wissen
          </button>
        </div>

        <div id="settingsMsg" class="mt-4 text-sm"></div>
      </div>
    </section>

    <!-- UITLEG / HOE WERKT HET -->
    <section id="helpView" class="hidden no-print">
      <div class="max-w-3xl mx-auto">

        <!-- Hero -->
        <div class="rounded-3xl mb-8 p-8 text-white relative overflow-hidden" style="background: linear-gradient(135deg, #003082 0%, #0055b3 60%, #1a73d4 100%);">
          <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(circle at 20% 80%, white 1px, transparent 1px), radial-gradient(circle at 80% 20%, white 1px, transparent 1px), radial-gradient(circle at 50% 50%, white 1px, transparent 1px); background-size: 40px 40px;"></div>
          <div class="relative">
            <div class="text-xs font-bold uppercase tracking-widest opacity-60 mb-2">Handleiding</div>
            <h2 class="text-3xl font-bold mb-2 leading-tight">Hoe werkt het Kansrijke Beroepen Portaal?</h2>
            <p class="opacity-80 text-sm leading-relaxed max-w-xl">
              Met dit portaal verken je welke beroepen goed bij je passen. Volg de stappen hieronder om het meeste uit het portaal te halen.
            </p>
          </div>
        </div>

        <!-- Stappen -->
        <div class="space-y-4 mb-8">

          <!-- Stap 1 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: var(--blue);">1</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Upload de UWV PDF</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-3">
                  Download eerst de offici√´le PDF met kansrijke beroepen van de UWV-website. Upload deze daarna via <strong>Instellingen ‚Üí Eigen PDF uploaden</strong>. De portaal leest automatisch alle beroepen in inclusief de bijbehorende links naar Werk.nl.
                </p>
                <div class="bg-amber-50 border border-amber-200 rounded-xl p-3 text-xs text-amber-800">
                  <strong>Tip:</strong> Zonder PDF werkt het portaal ook ‚Äî er zijn dan 248 beroepen al ingeladen, maar de "Meer info" links zijn zoeklinks in plaats van directe pagina's.
                </div>
              </div>
            </div>
            <div class="border-t border-slate-100 px-6 py-3 bg-slate-50 flex items-center gap-3">
              <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/></svg>
              <span class="text-xs text-slate-500">Ga naar <button onclick="showSettings()" class="font-semibold hover:underline" style="color:var(--mid)">Instellingen</button> om de PDF te uploaden</span>
            </div>
          </div>

          <!-- Stap 2 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: var(--mid);">2</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Blader door de beroepen</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-3">
                  In het <strong>Portaal</strong> zie je alle kansrijke beroepen als kaarten. Je kunt filteren op sector, opleidingsniveau en op wat je al hebt aangevinkt. Gebruik de zoekbalk bovenaan om snel een specifiek beroep te vinden.
                </p>
                <div class="grid grid-cols-3 gap-2 text-xs">
                  <div class="bg-slate-50 rounded-xl p-3 text-center border border-slate-100">
                    <div class="text-lg mb-1">üèóÔ∏è</div>
                    <div class="font-semibold text-slate-700">Sector</div>
                    <div class="text-slate-400 mt-0.5">Bijv. Bouw, ICT, Zorg</div>
                  </div>
                  <div class="bg-slate-50 rounded-xl p-3 text-center border border-slate-100">
                    <div class="text-lg mb-1">üéì</div>
                    <div class="font-semibold text-slate-700">Niveau</div>
                    <div class="text-slate-400 mt-0.5">Basis, MBO, HBO/WO</div>
                  </div>
                  <div class="bg-slate-50 rounded-xl p-3 text-center border border-slate-100">
                    <div class="text-lg mb-1">üîç</div>
                    <div class="font-semibold text-slate-700">Zoeken</div>
                    <div class="text-slate-400 mt-0.5">Op naam of sector</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Stap 3 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: var(--orange);">3</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Vink beroepen aan die je aanspreken</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-4">
                  Zie je een beroep dat interessant klinkt? Zet een vinkje bij <strong>"Vind ik leuk"</strong>. Zo bouw je een persoonlijke lijst op. Via het filter "Alleen aangevinkt" zie je direct jouw selectie.
                </p>
                <!-- Voorbeeld kaart -->
                <div class="border border-slate-200 rounded-2xl p-4 bg-slate-50 text-xs">
                  <div class="flex justify-between items-start mb-2">
                    <span class="font-bold uppercase tracking-widest text-slate-400 text-[10px]">VOORBEELD SECTOR</span>
                    <span class="px-2 py-0.5 rounded text-[10px] font-bold lvl-mid">MBO</span>
                  </div>
                  <div class="font-bold text-sm mb-2" style="color:var(--blue)">Voorbeeldberoep</div>
                  <label class="flex items-center gap-2 mb-2 cursor-pointer">
                    <input type="checkbox" checked class="w-3.5 h-3.5 rounded" style="accent-color:var(--orange);" onclick="return false;">
                    <span class="font-semibold text-slate-700">Vind ik leuk</span>
                    <span class="ml-1 text-[10px] text-orange-500 font-bold">‚Üê dit aanvinken!</span>
                  </label>
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" class="w-3.5 h-3.5 rounded" style="accent-color:var(--mid);" onclick="return false;">
                    <span class="text-slate-500">Doelgroep-registratie</span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Stap 4 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: #166534;">4</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Schrijf een persoonlijke notitie</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-3">
                  Elke beroepskaart heeft een tekstvak voor notities. Schrijf op wat je aanspreekt aan dit beroep, of juist wat je twijfels zijn. Dit helpt je later bij het maken van een keuze en verschijnt ook in je exportoverzicht.
                </p>
                <div class="bg-white border border-slate-200 rounded-xl p-3 text-xs text-slate-500 italic">
                  "Wat trekt me aan? Wat houdt me tegen?"<br>
                  <span class="text-slate-400 mt-1 block not-italic">‚Üí Bijv: "Werken buiten spreekt me aan, maar ik weet niet zeker of ik de opleiding kan volgen."</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Stap 5 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: #1e40af;">5</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Doelgroepregistratie aanvinken</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-3">
                  Weet je dat een beroep valt onder de <strong>doelgroepregistratie</strong>? Zet dan het bijbehorende vinkje aan. Dit betekent dat werkgevers een loonkostensubsidie kunnen aanvragen als ze iemand met een arbeidsbeperking in dienst nemen. Het vinkje helpt jou en je begeleider om dit bij te houden in het exportoverzicht.
                </p>
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-3 text-xs text-blue-800">
                  <strong>Wat is doelgroepregistratie?</strong> Mensen in het doelgroepregister Banenafspraak kunnen bij bepaalde werkgevers met loonkostensubsidie aan het werk. Vraag je arbeidsdeskundige of begeleider of dit voor jou geldt.
                </div>
              </div>
            </div>
          </div>

          <!-- Stap 6 -->
          <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
            <div class="flex items-start gap-5 p-6">
              <div class="flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg" style="background: #7c3aed;">6</div>
              <div class="flex-1">
                <h3 class="font-bold text-base mb-1" style="color:var(--blue)">Exporteer jouw overzicht</h3>
                <p class="text-sm text-slate-600 leading-relaxed mb-3">
                  Als je een selectie hebt gemaakt, klik dan op <strong>"‚¨á Export mijn selectie"</strong> rechtsboven. Er wordt een overzichtspagina gegenereerd met al jouw aangevinkte beroepen, je notities en de doelgroep-vinkjes. Die kun je afdrukken of opslaan als PDF om te bespreken met je begeleider.
                </p>
                <div class="flex items-center gap-2 bg-slate-50 rounded-xl p-3 border border-slate-200">
                  <div class="w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold" style="background:var(--orange);">‚¨á</div>
                  <div>
                    <div class="text-xs font-bold text-slate-700">Export mijn selectie</div>
                    <div class="text-[11px] text-slate-400">Rechtsboven in de navigatiebalk</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Veelgestelde vragen -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-100 p-6 mb-8">
          <h3 class="font-bold text-base mb-4" style="color:var(--blue)">Veelgestelde vragen</h3>
          <div class="space-y-4" id="faqList">

            <div class="faq-item border-b border-slate-100 pb-4">
              <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between text-left gap-3 group">
                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors">Worden mijn keuzes opgeslagen?</span>
                <svg class="faq-icon w-4 h-4 text-slate-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="faq-answer hidden mt-2 text-sm text-slate-600 leading-relaxed">
                Ja. Jouw vinkjes, doelgroep-aankruisingen en notities worden automatisch opgeslagen in de browser (localStorage). Ze blijven bewaard zolang je dezelfde browser op hetzelfde apparaat gebruikt. Je hoeft niets handmatig te bewaren.
              </div>
            </div>

            <div class="faq-item border-b border-slate-100 pb-4">
              <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between text-left gap-3 group">
                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors">Wat als ik geen PDF heb?</span>
                <svg class="faq-icon w-4 h-4 text-slate-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="faq-answer hidden mt-2 text-sm text-slate-600 leading-relaxed">
                Geen probleem. Het portaal heeft de volledige lijst van 248 kansrijke beroepen al ingebouwd. Je kunt direct beginnen met verkennen. De "Meer info" links gaan dan naar een zoekpagina op Werk.nl in plaats van de directe beroepspagina.
              </div>
            </div>

            <div class="faq-item border-b border-slate-100 pb-4">
              <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between text-left gap-3 group">
                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors">Wat betekenen de kleuren van de badges (BASIS / MBO / HBO/WO)?</span>
                <svg class="faq-icon w-4 h-4 text-slate-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="faq-answer hidden mt-2 text-sm text-slate-600 leading-relaxed">
                De badge geeft het opleidingsniveau aan dat gangbaar is voor dat beroep. <span class="px-1.5 py-0.5 rounded text-[11px] font-bold lvl-basis">BASIS</span> staat voor basisvakmanschap, <span class="px-1.5 py-0.5 rounded text-[11px] font-bold lvl-mid">MBO</span> voor middelbaar beroepsniveau, en <span class="px-1.5 py-0.5 rounded text-[11px] font-bold lvl-hoger">HBO/WO</span> voor hoger of wetenschappelijk onderwijs.
              </div>
            </div>

            <div class="faq-item border-b border-slate-100 pb-4">
              <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between text-left gap-3 group">
                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors">Hoe wis ik mijn notities en selecties?</span>
                <svg class="faq-icon w-4 h-4 text-slate-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="faq-answer hidden mt-2 text-sm text-slate-600 leading-relaxed">
                Ga naar <button onclick="showSettings()" class="font-semibold hover:underline" style="color:var(--mid)">Instellingen</button> en klik op "Mijn notities wissen". Hiermee worden al je vinkjes en notities gewist, maar de beroeppenlijst blijft intact.
              </div>
            </div>

            <div class="faq-item">
              <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between text-left gap-3 group">
                <span class="text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors">Kan ik het exportoverzicht delen met mijn begeleider?</span>
                <svg class="faq-icon w-4 h-4 text-slate-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
              </button>
              <div class="faq-answer hidden mt-2 text-sm text-slate-600 leading-relaxed">
                Ja. Klik op "‚¨á Export mijn selectie" en gebruik in de afdrukdialoog de optie "Opslaan als PDF". Dit PDF-bestand kun je dan mailen of meenemen naar een gesprek met je begeleider of arbeidsadviseur.
              </div>
            </div>

          </div>
        </div>

        <!-- CTA -->
        <div class="text-center pb-4">
          <button onclick="showPortal()"
            class="inline-flex items-center gap-2 text-white px-8 py-3 rounded-2xl font-bold text-sm shadow-lg hover:opacity-90 transition"
            style="background: linear-gradient(135deg, var(--blue) 0%, var(--mid) 100%);">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>
            Ga naar het portaal
          </button>
        </div>

      </div>
    </section>

    <!-- BEGELEIDER MODUS -->
    <section id="begelView" class="hidden no-print">
      <div class="max-w-4xl mx-auto">

        <!-- Wachtwoord scherm -->
        <div id="begelLockScreen">
          <div class="max-w-sm mx-auto mt-16">
            <div class="bg-white rounded-3xl shadow-lg border border-slate-200 overflow-hidden">
              <div class="p-8 text-center" style="background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%);">
                <div class="text-5xl mb-3">üîí</div>
                <h2 class="text-xl font-bold text-white mb-1">Begeleidersmodus</h2>
                <p class="text-purple-200 text-sm">Alleen toegankelijk voor begeleiders</p>
              </div>
              <div class="p-6">
                <label class="text-sm font-semibold text-slate-700 block mb-2">Wachtwoord</label>
                <input id="begelPwInput" type="password" placeholder="Voer wachtwoord in"
                       class="w-full p-3 border border-slate-200 rounded-xl text-sm outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-100 mb-1"
                       onkeydown="if(event.key==='Enter') checkBegelPw()">
                <div id="begelPwError" class="text-xs text-red-500 mb-3 hidden">Onjuist wachtwoord. Probeer opnieuw.</div>
                <button onclick="checkBegelPw()"
                  class="w-full py-3 rounded-xl text-sm font-bold text-white hover:opacity-90 transition"
                  style="background:#7c3aed;">
                  Inloggen
                </button>
                <div class="mt-4 text-xs text-slate-400 text-center">
                  Standaard wachtwoord: <code class="bg-slate-100 px-1.5 py-0.5 rounded font-mono">begeleider</code><br>
                  <button onclick="showChangePassword()" class="text-purple-500 hover:underline mt-1 inline-block">Wachtwoord wijzigen</button>
                </div>
              </div>
            </div>

            <!-- Wachtwoord wijzigen -->
            <div id="changePwPanel" class="hidden mt-4 bg-white rounded-2xl border border-slate-200 p-5 shadow-sm">
              <div class="text-sm font-semibold text-slate-700 mb-3">Wachtwoord wijzigen</div>
              <input id="oldPwInput" type="password" placeholder="Huidig wachtwoord"
                     class="w-full p-2.5 border border-slate-200 rounded-xl text-sm outline-none focus:border-purple-400 mb-2">
              <input id="newPwInput" type="password" placeholder="Nieuw wachtwoord"
                     class="w-full p-2.5 border border-slate-200 rounded-xl text-sm outline-none focus:border-purple-400 mb-2">
              <input id="newPwInput2" type="password" placeholder="Herhaal nieuw wachtwoord"
                     class="w-full p-2.5 border border-slate-200 rounded-xl text-sm outline-none focus:border-purple-400 mb-3">
              <button onclick="doChangePassword()"
                class="w-full py-2.5 rounded-xl text-sm font-bold text-white hover:opacity-90 transition"
                style="background:#7c3aed;">
                Opslaan
              </button>
              <div id="changePwMsg" class="mt-2 text-xs"></div>
            </div>
          </div>
        </div>

        <!-- Begeleider werkruimte (verborgen tot ingelogd) -->
        <div id="begelUnlocked" class="hidden">

          <!-- Hero -->
          <div class="rounded-3xl mb-6 p-7 text-white relative overflow-hidden" style="background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 60%, #a855f7 100%);">
            <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(circle at 30% 70%, white 1.5px, transparent 1.5px), radial-gradient(circle at 70% 30%, white 1.5px, transparent 1.5px); background-size: 32px 32px;"></div>
            <div class="relative flex flex-wrap items-start justify-between gap-4">
              <div>
                <div class="text-xs font-bold uppercase tracking-widest opacity-60 mb-1">Professionele module</div>
                <h2 class="text-2xl font-bold mb-1">Begeleidersmodus</h2>
                <p class="opacity-75 text-sm max-w-lg">Importeer het exportbestand van uw cli√´nt en voeg professionele aanvullingen toe per beroep.</p>
              </div>
              <button onclick="logoutBegel()" class="text-purple-200 hover:text-white text-xs font-semibold border border-purple-400 px-3 py-1.5 rounded-lg transition self-start">
                üîí Uitloggen
              </button>
            </div>
          </div>

          <!-- Import zone -->
          <div id="begelImportZone">
            <div id="begelDropZone"
                 class="border-2 border-dashed border-purple-300 rounded-3xl p-12 text-center bg-purple-50 hover:bg-purple-100 transition cursor-pointer mb-4"
                 onclick="document.getElementById('begelFileInput').click()"
                 ondragover="event.preventDefault(); this.classList.add('bg-purple-100')"
                 ondragleave="this.classList.remove('bg-purple-100')"
                 ondrop="handleBegelDrop(event)">
              <div class="text-4xl mb-3">üìÇ</div>
              <div class="font-bold text-purple-800 mb-1">Sleep hier het exportbestand van de cli√´nt</div>
              <div class="text-sm text-purple-600 mb-4">of klik om een bestand te kiezen (.html exportbestand)</div>
              <div class="inline-block px-4 py-2 rounded-xl text-sm font-bold text-white" style="background:#7c3aed;">Bestand kiezen</div>
              <input id="begelFileInput" type="file" accept="text/html,.html" class="hidden" onchange="handleBegelFile(this.files[0])">
            </div>
            <div class="bg-white rounded-2xl border border-slate-200 p-5 text-sm text-slate-600 shadow-sm">
              <div class="font-bold text-slate-700 mb-2">üí° Hoe werkt het?</div>
              <ol class="space-y-1.5 list-decimal list-inside text-slate-600">
                <li>Laat de cli√´nt via het Portaal zijn beroepen selecteren</li>
                <li>De cli√´nt klikt op <strong>"‚¨á Export mijn selectie"</strong> en slaat het <strong>.html bestand</strong> op</li>
                <li>Upload dat .html bestand hier</li>
                <li>Voeg uw professionele aantekeningen toe per beroep</li>
                <li>Klik op <strong>"PDF exporteren voor dossier"</strong></li>
              </ol>
            </div>
          </div>

          <!-- Werkruimte na laden -->
          <div id="begelWorkspace" class="hidden">

            <!-- Info + actie balk -->
            <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-4 mb-5 flex flex-wrap items-center justify-between gap-3">
              <div>
                <div class="text-xs font-bold uppercase tracking-widest text-purple-500 mb-0.5">Geladen cli√´ntdata</div>
                <div id="begelInfoBar" class="text-sm font-semibold text-slate-700"></div>
              </div>
              <div class="flex gap-2 flex-wrap">
                <button onclick="exportBegelCombined()" class="px-4 py-2 rounded-xl text-sm font-bold text-white hover:opacity-90 transition shadow flex items-center gap-2" style="background:#7c3aed;">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/></svg>
                  PDF exporteren voor dossier
                </button>
                <button onclick="resetBegel()" class="px-3 py-2 rounded-xl text-sm font-semibold bg-white border border-slate-200 hover:bg-slate-50 transition text-slate-600">
                  Ander bestand laden
                </button>
              </div>
            </div>

            <!-- Begeleider naam -->
            <div class="bg-white rounded-2xl border border-slate-200 shadow-sm p-5 mb-5">
              <label class="text-sm font-semibold text-slate-700 block mb-2">Naam begeleider <span class="text-slate-400 font-normal">(verschijnt in PDF)</span></label>
              <input id="begelNaamInput" type="text" placeholder="Bijv. Janine de Vries ‚Äì Arbeidsdeskundige UWV"
                     class="w-full p-3 border border-slate-200 rounded-xl text-sm outline-none focus:border-purple-400 focus:ring-1 focus:ring-purple-100"
                     oninput="saveBegel()">
            </div>

            <!-- Beroepen kaarten -->
            <div id="begelBeroepenContainer" class="space-y-4"></div>

          </div>
        </div>

      </div>
    </section>


    <!-- Client export (voor afdrukken) -->
    <section id="exportView" class="hidden">
      <!-- Embedded machine-readable data voor begeleider-import -->
      <script id="exportDataEmbed" type="application/json">null</script>

      <div class="export-banner">
        <div class="flex items-start justify-between flex-wrap gap-4">
          <div>
            <div class="text-xs font-bold uppercase tracking-widest opacity-70 mb-1">Kansrijke Beroepen Portaal 2025‚Äì2026</div>
            <h1 class="text-3xl font-bold mb-1">Mijn geselecteerde beroepen</h1>
            <div id="exportSubtitle" class="text-sm opacity-80"></div>
          </div>
          <div class="text-right">
            <div class="text-xs opacity-60 mb-1">Bron: UWV</div>
            <div id="exportMeta" class="text-xs opacity-60"></div>
          </div>
        </div>
      </div>

      <div class="flex flex-wrap gap-3 mt-5 mb-6 px-1">
        <div class="flex items-center gap-2 text-xs text-slate-600">
          <span class="px-2 py-0.5 rounded font-bold export-lvl-badge lvl-basis">BASIS</span> Basisvakmanschap
        </div>
        <div class="flex items-center gap-2 text-xs text-slate-600">
          <span class="px-2 py-0.5 rounded font-bold export-lvl-badge lvl-mid">MBO</span> Middelbaar beroepsniveau
        </div>
        <div class="flex items-center gap-2 text-xs text-slate-600">
          <span class="px-2 py-0.5 rounded font-bold export-lvl-badge lvl-hoger">HBO/WO</span> Hoger / wetenschappelijk
        </div>
      </div>

      <div id="exportList" class="space-y-6"></div>

      <div class="mt-8 pt-4 border-t border-slate-200 text-xs text-slate-400">
        UWV Kansrijke Beroepen 2025‚Äì2026 ¬∑ uwv.nl ¬∑ Gegenereerd via Beroepen Portaal
      </div>
    </section>

    <!-- Gecombineerde begeleider+client export (voor afdrukken) -->
    <section id="begelExportView" class="hidden">
      <div class="export-banner" style="background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%);">
        <div class="flex items-start justify-between flex-wrap gap-4">
          <div>
            <div class="text-xs font-bold uppercase tracking-widest opacity-70 mb-1">Kansrijke Beroepen Portaal 2025‚Äì2026 ¬∑ Begeleidersdossier</div>
            <h1 class="text-3xl font-bold mb-1">Gecombineerd beroepenoverzicht</h1>
            <div id="begelExportSubtitle" class="text-sm opacity-80"></div>
          </div>
          <div class="text-right text-xs opacity-70">
            <div id="begelExportBegeleider" class="font-bold text-white text-sm mb-0.5"></div>
            <div id="begelExportMeta"></div>
          </div>
        </div>
      </div>

      <div class="flex flex-wrap gap-4 mt-5 mb-6 px-1">
        <div class="flex items-center gap-2 text-xs text-slate-600">
          <span class="w-3 h-3 rounded-full inline-block" style="background:#f97316"></span> Cli√´nt-notities
        </div>
        <div class="flex items-center gap-2 text-xs text-slate-600">
          <span class="w-3 h-3 rounded-full inline-block" style="background:#7c3aed"></span> Begeleider-aantekeningen
        </div>
      </div>

      <div id="begelExportList" class="space-y-6"></div>

      <div class="mt-8 pt-4 border-t border-slate-200 text-xs text-slate-400">
        UWV Kansrijke Beroepen 2025‚Äì2026 ¬∑ Vertrouwelijk begeleidersdossier ¬∑ Beroepen Portaal
      </div>
    </section>

  </main>

  <script>
  // =====================================================================
  // INGEBOUWDE DATASET (UWV Kansrijke Beroepen 2025-2026)
  // =====================================================================
  const INGEBOUWDE_DATA = [
    {"s":"Bouw","n":"Grondverzetmachinisten","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Heimachinisten","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Kraanmachinisten","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Vaklieden grond-, weg- en waterbouw","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Rioleringsmedewerkers","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Stratenmakers","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Sondeerders en boormeesters grondboring","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Slopers bouw en asbestverwijderaars","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Betonwerkers","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Isoleerders","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Onderhoudsmedewerkers gebouwen","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Steigerbouwers","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Tegelzetters","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Dakdekkers","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Timmerlieden (onderhoud en civiele bouw)","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Schilders","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Glaszetters","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Werkplaatstimmermannen, interieurbouwers, standbouwers, wand- en plafondmonteurs","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Rolluik- en zonweringinstallateurs","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Landmeters","lvl":"Middelbaar"},
    {"s":"Bouw","n":"(Hoofd)uitvoerders grond-, weg- en waterbouw","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Opzichters en beheerders grond-, weg- en waterbouw","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Werkvoorbereiders en calculatoren grond-, weg- en waterbouw","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Tekenaars grond-, weg- en waterbouw","lvl":"Middelbaar"},
    {"s":"Bouw","n":"(Hoofd)uitvoerders bouw en installatietechniek","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Werkvoorbereiders en calculatoren bouw en installatietechniek","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Tekenaars bouwkunde en BIM modelleurs","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Bouwkundig inspecteurs, opzichters en adviseurs (EPA- en BENG adviseurs)","lvl":"Middelbaar"},
    {"s":"Bouw","n":"Bodemkundig onderzoekers en -saneerders","lvl":"Hoger"},
    {"s":"Bouw","n":"Adviseurs en ontwerper-constructeurs grond-, weg- en waterbouw","lvl":"Hoger"},
    {"s":"Bouw","n":"Projectleiders grond-, weg- en waterbouw","lvl":"Hoger"},
    {"s":"Bouw","n":"Adviseurs en ontwerper-constructeurs bouwkunde","lvl":"Hoger"},
    {"s":"Bouw","n":"Managers en projectleiders bouw en installatie","lvl":"Hoger"},
    {"s":"Installatie","n":"Monteurs en leidingleggers gas, water","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Kabelwerkers en monteurs datacommunicatie","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Monteurs glasvezel en telecommunicatiesystemen","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Monteurs laag-, midden- en hoogspanning","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Loodgieters, installateurs en monteurs gas, water, sanitair, verwarming","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Elektriciens, installateurs en monteurs elektrische installaties (incl. zonnepanelen en laadpalen)","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Installateurs en monteurs luchtbehandeling, koeltechniek","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Monteurs lifttechniek en elektromotoren","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Monteurs beveiligingsinstallaties","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Medewerkers technische dienst (elektrotechnisch)","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Monteurs meet- en regeltechniek en medische elektronica","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Tekenaars installatietechniek","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Tekenaars elektrotechniek","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Werkvoorbereiders en calculatoren elektrotechniek","lvl":"Middelbaar"},
    {"s":"Installatie","n":"Adviseurs, engineers en projectleiders installatietechniek","lvl":"Hoger"},
    {"s":"Installatie","n":"Inspecteurs elektrische installaties","lvl":"Hoger"},
    {"s":"Installatie","n":"Projectleiders elektrotechniek","lvl":"Hoger"},
    {"s":"Installatie","n":"Engineers, constructeurs en onderzoekers elektrotechnische installaties","lvl":"Hoger"},
    {"s":"Installatie","n":"Engineers elektronica en meet- en regeltechniek","lvl":"Hoger"},
    {"s":"Installatie","n":"Telecom engineers","lvl":"Hoger"},
    {"s":"Voertuigentechniek","n":"Rijwielmonteurs","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Autospuiters","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Autoschadeherstellers (incl. caravan-/campermonteur)","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Automonteurs (personen- en bedrijfswagens)","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Werkplaatschefs auto","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Monteurs mobiele werktuigen (incl. landbouwmachines)","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Elektromonteurs schepen en treinen","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Scheepswerktuigkundigen","lvl":"Middelbaar"},
    {"s":"Voertuigentechniek","n":"Bedrijfsleiders / ondernemers autogaragebedrijf","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Verf- en lakspuiters","lvl":"Basis"},
    {"s":"Industrie","n":"Assemblagemedewerkers","lvl":"Basis"},
    {"s":"Industrie","n":"Assemblagemonteurs","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Pijpfitters","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Plaatwerkers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"CNC-machinebedieners","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Conventioneel verspaners en machinebankwerkers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"CNC-verspaners (inclusief programmeren)","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Constructiebankwerkers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Constructiemedewerkers en carrosseriebouwers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Lassers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Gespecialiseerd lassers, operators lasrobot","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Gereedschapsmakers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Fijninstrumentmakers en fijnmechanici","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Machinaal meubelmakers en houtbewerkers","lvl":"Middelbaar"},
    {"s":"Industrie","n":"(Hoofd)operators proces- en levensmiddelenindustrie","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Monteurs industri√´le machines en installaties / mechatronica (installatie, service, storing)","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Order- en productiebegeleiders industrie (binnendienst)","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Productieplanners","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Tekenaars werktuigbouw / machines","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Werkvoorbereiders en calculatoren werktuigbouw / machines","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Calculatoren procestechniek","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Vertegenwoordigers en accountmanagers technische producten","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Leidinggevenden assemblage en montage metaal- en overige industrie","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Technisch managers en hoofden technische dienst","lvl":"Middelbaar"},
    {"s":"Industrie","n":"Adviseurs, (maintenance)engineers en ontwerper-constructeurs werktuigbouw en machines","lvl":"Hoger"},
    {"s":"Industrie","n":"Managers en teamleiders R&D productontwikkeling","lvl":"Hoger"},
    {"s":"Industrie","n":"Proces- en levensmiddelentechnologen, productontwikkelaars","lvl":"Hoger"},
    {"s":"Industrie","n":"Biochemisch en microbiologisch analisten / laboranten","lvl":"Hoger"},
    {"s":"Industrie","n":"Chemisch en fysisch analisten","lvl":"Hoger"},
    {"s":"Industrie","n":"Leidinggevenden proces- en levensmiddelenindustrie","lvl":"Hoger"},
    {"s":"Industrie","n":"Managers en teamleiders R&D laboratorium (chemische en levensmiddelenindustrie)","lvl":"Hoger"},
    {"s":"Industrie","n":"Engineers hardware en industri√´le automatisering, PLC-programmeurs, embedded software engineers","lvl":"Hoger"},
    {"s":"Industrie","n":"Projectleiders elektronica en industri√´le automatisering","lvl":"Hoger"},
    {"s":"Industrie","n":"Kwaliteitsmedewerkers, QA managers","lvl":"Hoger"},
    {"s":"Industrie","n":"Managers en bedrijfsleiders industrie","lvl":"Hoger"},
    {"s":"Transport - logistiek","n":"Magazijn-, expeditiemedewerkers en orderpickers","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Heftruckchauffeurs","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Bijrijders, laders en lossers","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Beladers vuilniswagen, vuilnisophalers","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Bestelwagenchauffeurs en -bezorgers (bijv. supermarkten)","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Fiets- en brommerkoeriers, postbezorgers","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Verhuizers","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Rangeerders","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Taxichauffeurs groepsvervoer","lvl":"Basis"},
    {"s":"Transport - logistiek","n":"Vrachtwagenchauffeurs","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Buschauffeurs lijndienst","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Buschauffeurs touringcar","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Conducteurs","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Treinmachinisten","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Matrozen binnenvaart","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Schippers binnenvaart","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Matrozen zeevaart","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Maritiem officieren","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Logistiek (administratief) medewerkers","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Leidinggevenden magazijn, magazijnchefs","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Declaranten, expediteurs en exportmedewerkers binnendienst","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"Transportplanners","lvl":"Middelbaar"},
    {"s":"Transport - logistiek","n":"(Trein)verkeersleiders","lvl":"Hoger"},
    {"s":"Transport - logistiek","n":"Logistiek managers","lvl":"Hoger"},
    {"s":"Veiligheid","n":"Verkeersregelaars","lvl":"Basis"},
    {"s":"Veiligheid","n":"Brandwachten / heetwerkwachten","lvl":"Basis"},
    {"s":"Veiligheid","n":"Handhavers openbare ruimte (BOA's en toezichthouders)","lvl":"Middelbaar"},
    {"s":"Veiligheid","n":"(Complex)beveiligers penitentiaire inrichting","lvl":"Middelbaar"},
    {"s":"Veiligheid","n":"Objectbeveiligers","lvl":"Middelbaar"},
    {"s":"Veiligheid","n":"Meldkamermedewerkers","lvl":"Middelbaar"},
    {"s":"Veiligheid","n":"Adviseurs brandveiligheid","lvl":"Middelbaar"},
    {"s":"Veiligheid","n":"Veiligheidskundigen","lvl":"Hoger"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers tankstation","lvl":"Basis"},
    {"s":"Detailhandel","n":"Kassamedewerkers","lvl":"Basis"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers food (voedingsspeciaalzaken)","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Brood- en banketbakkers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Slagers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Kappers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers mode (kleding en schoenen)","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Schoenmakers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers juwelier","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers optiek","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Opticiens","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Audiciens","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers drogisterij","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers zorgartikelen en -zelfhulpmiddelen","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers tuincentrum","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Autoverkopers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers elektronica","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Monteurs consumentenelektronica","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Monteurs witgoed","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers bouwmarkten en doe-het-zelf","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Verkoopmedewerkers woninginrichting (keukens / badkamers)","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Woninginrichters, vloerenleggers en keukenmonteurs","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"Visual merchandisers","lvl":"Middelbaar"},
    {"s":"Detailhandel","n":"(Afdelings)managers / bedrijfsleiders supermarkt","lvl":"Hoger"},
    {"s":"Horeca","n":"Afwassers","lvl":"Basis"},
    {"s":"Horeca","n":"Keukenassistenten","lvl":"Basis"},
    {"s":"Horeca","n":"Medewerkers fastservice (in o.a. snackbars, ijssalons, lunchrooms)","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Cateringmedewerkers","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Medewerkers banqueting","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Medewerkers bediening horeca","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Barpersoneel","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Restaurantkoks","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Hotelreceptionisten","lvl":"Middelbaar"},
    {"s":"Horeca","n":"Managers horeca","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"Loonwerkers, landbouwmachinisten en tractorchauffeurs","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"(Voorman) hoveniers / groenonderhoud, boomverzorgers, greenkeepers","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"(Vakbekwaam) medewerkers boomkwekerij","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"(Vakbekwaam / zelfstandig) medewerkers teelt","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"Meewerkend voormannen / teamleiders / (assistent) bedrijfsleiders teelt","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"Medewerkers zaadteelt en plantenveredeling","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"Medewerkers dier- en veehouderij","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"(Assistent) bedrijfsleiders dier- en veehouderij","lvl":"Middelbaar"},
    {"s":"Landbouw, natuur en milieu","n":"Medewerkers bos- en natuurbeheer, ecologen, landschapsbeheerders / rentmeesters","lvl":"Middelbaar"},
    {"s":"Schoonmaak - reiniging","n":"Schoonmakers (o.a. kantoren, bedrijven, hotels, vakantieparken)","lvl":"Basis"},
    {"s":"Schoonmaak - reiniging","n":"Gespecialiseerde schoonmakers (industrieel, calamiteiten, cleanrooms)","lvl":"Basis"},
    {"s":"Schoonmaak - reiniging","n":"Glazenwassers","lvl":"Basis"},
    {"s":"Schoonmaak - reiniging","n":"Medewerkers autowasstraat","lvl":"Basis"},
    {"s":"Schoonmaak - reiniging","n":"Ongediertebestrijders","lvl":"Basis"},
    {"s":"Schoonmaak - reiniging","n":"Teamleiders en voormannen schoonmaak","lvl":"Middelbaar"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Medewerkers klantcontact / klantenservice","lvl":"Middelbaar"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Supervisors klantcontact / klantenservice","lvl":"Middelbaar"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Commercieel medewerkers binnendienst","lvl":"Middelbaar"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Reisadviseurs","lvl":"Middelbaar"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Taxateurs onroerend goed","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Vastgoedmanagers en -beheerders","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Business consultants, (technisch) organisatieadviseurs en kwaliteitsmanagers","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Online marketeers","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Communicatie- en pr-adviseurs","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"HR-adviseurs","lvl":"Hoger"},
    {"s":"Commercieel \u2013 HR - strategie","n":"Recruiters","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Incassomedewerkers","lvl":"Middelbaar"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Juridisch secretaressen","lvl":"Middelbaar"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Directiesecretaresses en managementassistenten","lvl":"Middelbaar"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Personeelsplanners en roostermakers","lvl":"Middelbaar"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Boekhouders en financieel administrateurs","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Salarisadministrateurs","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Schadebehandelaars","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Assurantieadviseurs, acceptanten verzekeringsmaatschappij","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Adviseurs hypotheken, kredieten en subsidies","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Financieel- en beleggingsspecialisten, treasurers","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"(Assistent) controllers, auditors en compliance officers","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"AA- en assistent accountants","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"(Register)accountants","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Belastingadviseurs","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Managers inkoop","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"(Assistent) inkopers en contractmanagers","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Bewindvoerders","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Juridisch medewerkers","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Juristen en juridisch specialisten","lvl":"Hoger"},
    {"s":"Financieel en administratie \u2013 juridisch","n":"Advocaten","lvl":"Hoger"},
    {"s":"ICT","n":"ICT-servicedeskmedewerkers","lvl":"Middelbaar"},
    {"s":"ICT","n":"Applicatie- en functioneel beheerders","lvl":"Middelbaar"},
    {"s":"ICT","n":"Systeembeheerders","lvl":"Middelbaar"},
    {"s":"ICT","n":"Databasebeheerders","lvl":"Middelbaar"},
    {"s":"ICT","n":"Netwerkbeheerders","lvl":"Middelbaar"},
    {"s":"ICT","n":"Database- en datawarehouse ontwikkelaars","lvl":"Hoger"},
    {"s":"ICT","n":"Softwareontwikkelaars","lvl":"Hoger"},
    {"s":"ICT","n":"Programmeurs en developers ICT","lvl":"Hoger"},
    {"s":"ICT","n":"Webdevelopers (technisch / backend)","lvl":"Hoger"},
    {"s":"ICT","n":"GEO / GIS specialisten (geografisch informatiesysteem)","lvl":"Hoger"},
    {"s":"ICT","n":"Software testers, testmanagers ICT","lvl":"Hoger"},
    {"s":"ICT","n":"Securityspecialisten ICT","lvl":"Hoger"},
    {"s":"ICT","n":"Netwerkspecialisten / netwerkengineers","lvl":"Hoger"},
    {"s":"ICT","n":"Ontwerpers / architecten ICT-systemen","lvl":"Hoger"},
    {"s":"ICT","n":"BI (business intelligence) specialisten","lvl":"Hoger"},
    {"s":"ICT","n":"Data analisten, data scientists en actuarissen","lvl":"Hoger"},
    {"s":"ICT","n":"Adviseurs, consultants en informatiespecialisten ICT","lvl":"Hoger"},
    {"s":"Overheid","n":"Medewerkers burgerzaken","lvl":"Middelbaar"},
    {"s":"Overheid","n":"Penitentiair inrichtingswerkers","lvl":"Middelbaar"},
    {"s":"Overheid","n":"Politieagenten","lvl":"Middelbaar"},
    {"s":"Overheid","n":"Beroepsmilitairen","lvl":"Middelbaar"},
    {"s":"Overheid","n":"Vergunningverleners ruimtelijke ordening","lvl":"Hoger"},
    {"s":"Overheid","n":"Maatschappelijk werkers / sociaal werkers","lvl":"Hoger"},
    {"s":"Overheid","n":"Reclasseringswerkers","lvl":"Hoger"},
    {"s":"Overheid","n":"Beleidsadviseurs sociaal domein","lvl":"Hoger"},
    {"s":"Overheid","n":"Beleidsadviseurs onderwijs en jeugd","lvl":"Hoger"},
    {"s":"Overheid","n":"Beleidsadviseurs bestuurlijk-juridisch","lvl":"Hoger"},
    {"s":"Overheid","n":"Beleidsadviseurs economie, planeconomen","lvl":"Hoger"},
    {"s":"Overheid","n":"Beleidsadviseurs (inclusief managers) ruimtelijke ordening / planologie, milieu","lvl":"Hoger"},
    {"s":"Overheid","n":"Verkeersplanologen","lvl":"Hoger"},
    {"s":"Overheid","n":"Planologen en stedenbouwkundigen","lvl":"Hoger"},
    {"s":"Overheid","n":"Landschapsarchitecten","lvl":"Hoger"},
    {"s":"Overheid","n":"Milieu-inspecteurs","lvl":"Hoger"},
    {"s":"Overheid","n":"Hydrologen en milieutechnologen / adviseurs waterbeheer","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Zweminstructeurs","lvl":"Middelbaar"},
    {"s":"Onderwijs - pedagogisch","n":"Fitnessinstructeurs","lvl":"Middelbaar"},
    {"s":"Onderwijs - pedagogisch","n":"(Pedagogisch) medewerkers kinderopvang","lvl":"Middelbaar"},
    {"s":"Onderwijs - pedagogisch","n":"Technisch onderwijsassistenten (TOA)","lvl":"Middelbaar"},
    {"s":"Onderwijs - pedagogisch","n":"Leerkrachten basisonderwijs","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Leerkrachten speciaal onderwijs en RT","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten lichamelijke opvoeding","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten vo / mbo taalkundige vakken","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten vo / mbo exacte vakken","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten vo / mbo economische vakken","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten vo maatschappelijke vakken","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten vo cultuur en kunstvakken","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Vakdocenten beroepsonderwijs techniek","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Vakdocenten beroepsonderwijs verpleegkunde / verzorging","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"NT2 docenten (mits in bezit van 2e graads onderwijsbevoegdheid)","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Managers kinderdagverblijven","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Directeuren / schoolleiders basis- en speciaal onderwijs","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Directeuren en managers voortgezet onderwijs en mbo","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten hbo / wo wis- en natuurkunde, techniek en ICT","lvl":"Hoger"},
    {"s":"Onderwijs - pedagogisch","n":"Docenten hbo / wo economie en recht","lvl":"Hoger"},
    {"s":"Zorg","n":"Huishoudelijk medewerkers (particulieren en thuiszorg)","lvl":"Basis"},
    {"s":"Zorg","n":"Helpenden","lvl":"Middelbaar"},
    {"s":"Zorg","n":"(Assistent-)woonbegeleiders","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Verzorgenden (individuele gezondheidszorg (ig), instelling, kraamzorg)","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Algemeen verpleegkundigen","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Medewerkers steriele medische hulpmiddelen","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Orthopedisch (prothese) technici","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Apothekersassistenten","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Tandartsassistenten","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Doktersassistenten","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Medisch secretaressen","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Medisch pedicures","lvl":"Middelbaar"},
    {"s":"Zorg","n":"Podotherapeuten","lvl":"Hoger"},
    {"s":"Zorg","n":"Wijkverpleegkundigen","lvl":"Hoger"},
    {"s":"Zorg","n":"Gespecialiseerd verpleegkundigen (o.a. intensive care, kinder, oncologie, spoedeisende hulp, ambulance, geriatrie, gehandicaptenzorg, psychiatrie, GGZ)","lvl":"Hoger"},
    {"s":"Zorg","n":"(Verpleegkundig) teamleiders zorg en zorgco√∂rdinatoren","lvl":"Hoger"},
    {"s":"Zorg","n":"Co√∂rdinatoren groeps- en woonbegeleiders","lvl":"Hoger"},
    {"s":"Zorg","n":"Praktijkondersteuners huisarts","lvl":"Hoger"},
    {"s":"Zorg","n":"Verpleegkundig specialisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Physician assistants","lvl":"Hoger"},
    {"s":"Zorg","n":"Mondhygi√´nisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Ergotherapeuten","lvl":"Hoger"},
    {"s":"Zorg","n":"Fysiotherapeuten","lvl":"Hoger"},
    {"s":"Zorg","n":"Logopedisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Di√´tisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Anesthesiemedewerkers en operatieassistenten","lvl":"Hoger"},
    {"s":"Zorg","n":"Hersen-, hart- en longfunctie laboranten en technici","lvl":"Hoger"},
    {"s":"Zorg","n":"Tandtechnici","lvl":"Hoger"},
    {"s":"Zorg","n":"Radiodiagnostisch laboranten","lvl":"Hoger"},
    {"s":"Zorg","n":"Medisch en pathologisch analisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Arbeidshygi√´nisten","lvl":"Hoger"},
    {"s":"Zorg","n":"Orthopedagogen","lvl":"Hoger"},
    {"s":"Zorg","n":"Tandartsen","lvl":"Hoger"},
    {"s":"Zorg","n":"Huisartsen","lvl":"Hoger"},
    {"s":"Zorg","n":"Apothekers","lvl":"Hoger"},
    {"s":"Zorg","n":"Dierenartsen","lvl":"Hoger"},
    {"s":"Zorg","n":"Gz-psychologen, klinisch psychologen","lvl":"Hoger"},
    {"s":"Zorg","n":"Sociotherapeuten","lvl":"Hoger"},
    {"s":"Zorg","n":"Psychiaters","lvl":"Hoger"},
    {"s":"Zorg","n":"Specifieke geneeskundige specialisten (o.a. spoedeisende hulp, ouderengeneeskunde, verstandelijk gehandicapten)","lvl":"Hoger"},
    {"s":"Zorg","n":"Bedrijfsartsen, verzekeringsartsen","lvl":"Hoger"},
    {"s":"Zorg","n":"Sociaal geneeskundigen maatschappij en gezondheid (o.a. jeugdgezondheidszorg, infectieziekten, forensisch, vertrouwensartsen)","lvl":"Hoger"}
  ].map(b => ({...b, info:"Uit UWV-lijst kansrijke beroepen 2025-2026", url:""}));

  // =====================================================================
  // STATE
  // FIX v10: versie gebumped zodat gecachte samengevoegde namen worden gewist
  // =====================================================================
  const STORAGE_KEY   = 'bp2026_data_v10';
  const STORAGE_STATE = 'bp2026_user_v10';

  // Wis ALLE oude versies
  Object.keys(localStorage)
    .filter(k => k.startsWith('bp2026_data_') && k !== STORAGE_KEY)
    .forEach(k => localStorage.removeItem(k));

  // Bullet-tekens die gebruikt worden in de PDF (voor detectie en splits)
  const BULLET_CHARS = /[\u25AA\u25aa\u25cf\u2022\u25a0\u25AB\u25ab]/;

  let beroepen  = loadData() || INGEBOUWDE_DATA;
  let userState = loadUserState();

  function isValidBeroep(b) {
    if (!b || !b.n || !b.s || !b.lvl) return false;
    // Naam mag geen bullet-tekens bevatten (samengestelde naam = fout)
    if (BULLET_CHARS.test(b.n)) return false;
    // Naam mag niet te kort zijn
    if (b.n.trim().length < 3) return false;
    return true;
  }

  function loadData() {
    try {
      const r = JSON.parse(localStorage.getItem(STORAGE_KEY));
      if (!r?.beroepen?.length) return null;
      const valid = r.beroepen.filter(isValidBeroep);
      if (valid.length < r.beroepen.length * 0.85) return null;
      return valid;
    } catch { return null; }
  }

  function saveData(d) {
    // Filter nogmaals voor opslaan
    const clean = d.filter(isValidBeroep);
    localStorage.setItem(STORAGE_KEY, JSON.stringify({ savedAt: new Date().toISOString(), beroepen: clean }));
    beroepen = clean;
    updateBadge();
    updatePdfBanner();
  }

  function loadUserState() {
    try { return JSON.parse(localStorage.getItem(STORAGE_STATE)) || {}; } catch { return {}; }
  }
  function saveUserState() {
    localStorage.setItem(STORAGE_STATE, JSON.stringify(userState));
  }

  function esc(s) {
    return (s||'')
      .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
      .replace(/"/g,'&quot;').replace(/'/g,'&#039;');
  }

  function updateBadge() {
    try {
      const r = JSON.parse(localStorage.getItem(STORAGE_KEY));
      const dt = r?.savedAt ? new Date(r.savedAt) : null;
      document.getElementById('dataBadge').textContent = dt
        ? `Bijgewerkt: ${dt.toLocaleString('nl-NL')}`
        : `Standaard 2025-2026 ¬∑ ${beroepen.length} beroepen`;
    } catch {
      document.getElementById('dataBadge').textContent = `${beroepen.length} beroepen`;
    }
  }

  function getKey(b){ return `${b.s}||${b.n}`.toLowerCase(); }

  function getEntry(b) {
    const k = getKey(b);
    if (!userState[k]) userState[k] = { like: false, doelgroep: false, note: '' };
    return userState[k];
  }

  // =====================================================================
  // BANNER LOGICA
  // =====================================================================
  function hasRealWerkLinks() {
    return (beroepen || []).some(b => {
      const u = (b.url || '').trim();
      return /^https?:\/\/www\.werk\.nl\//i.test(u) && u.length > 20;
    });
  }

  function updatePdfBanner() {
    const banner = document.getElementById('pdfBanner');
    if (!banner) return;
    if (hasRealWerkLinks()) banner.classList.add('hidden');
    else banner.classList.remove('hidden');
  }

  // =====================================================================
  // TABS
  // =====================================================================
  function showPortal() {
    document.getElementById('portalView').classList.remove('hidden');
    document.getElementById('settingsView').classList.add('hidden');
    document.getElementById('helpView').classList.add('hidden');
    document.getElementById('begelView').classList.add('hidden');
    document.getElementById('tabPortalBtn').style.cssText   = 'background:var(--blue);color:white;';
    document.getElementById('tabSettingsBtn').style.cssText = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabHelpBtn').style.cssText     = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabBegelBtn').style.cssText    = 'background:white;color:#374151;border:1px solid #e5e7eb;';
  }
  function showSettings() {
    document.getElementById('settingsView').classList.remove('hidden');
    document.getElementById('portalView').classList.add('hidden');
    document.getElementById('helpView').classList.add('hidden');
    document.getElementById('begelView').classList.add('hidden');
    document.getElementById('tabSettingsBtn').style.cssText = 'background:var(--blue);color:white;';
    document.getElementById('tabPortalBtn').style.cssText   = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabHelpBtn').style.cssText     = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabBegelBtn').style.cssText    = 'background:white;color:#374151;border:1px solid #e5e7eb;';
  }

  function showHelp() {
    document.getElementById('helpView').classList.remove('hidden');
    document.getElementById('portalView').classList.add('hidden');
    document.getElementById('settingsView').classList.add('hidden');
    document.getElementById('begelView').classList.add('hidden');
    document.getElementById('tabHelpBtn').style.cssText     = 'background:var(--blue);color:white;';
    document.getElementById('tabPortalBtn').style.cssText   = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabSettingsBtn').style.cssText = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabBegelBtn').style.cssText    = 'background:white;color:#374151;border:1px solid #e5e7eb;';
  }

  function toggleFaq(btn) {
    const answer = btn.nextElementSibling;
    const icon   = btn.querySelector('.faq-icon');
    const isOpen = !answer.classList.contains('hidden');
    answer.classList.toggle('hidden', isOpen);
    icon.style.transform = isOpen ? '' : 'rotate(180deg)';
  }

  // =====================================================================
  // FILTERS
  // =====================================================================
  document.getElementById('searchInput').addEventListener('keyup', filterContent);
  document.getElementById('levelFilter').addEventListener('change', filterContent);
  document.getElementById('sectorFilter').addEventListener('change', filterContent);
  document.getElementById('selectedFilter').addEventListener('change', filterContent);

  function resetFilters() {
    document.getElementById('searchInput').value = '';
    document.getElementById('levelFilter').value = 'all';
    document.getElementById('sectorFilter').value = 'all';
    document.getElementById('selectedFilter').value = 'all';
    filterContent();
  }

  function refreshSectorDropdown() {
    const sel = document.getElementById('sectorFilter');
    const current = sel.value;
    const sectors = [...new Set(beroepen.map(b => b.s))].sort((a,b) => a.localeCompare(b,'nl'));
    sel.innerHTML = '<option value="all">Alle sectoren</option>' +
      sectors.map(s => `<option value="${esc(s)}"${s === current ? ' selected' : ''}>${esc(s)}</option>`).join('');
  }

  function filterContent() {
    const q    = document.getElementById('searchInput').value.toLowerCase();
    const lvl  = document.getElementById('levelFilter').value;
    const sec  = document.getElementById('sectorFilter').value;
    const sel  = document.getElementById('selectedFilter').value === 'selected';
    render(q, lvl, sec, sel);
  }

  // =====================================================================
  // RENDER
  // =====================================================================
  function lvlBadge(lvl) {
    if ((lvl||'').includes('Hoger')) return 'lvl-hoger';
    if ((lvl||'').includes('Basis')) return 'lvl-basis';
    return 'lvl-mid';
  }
  function lvlLabel(lvl) {
    if ((lvl||'').includes('Hoger')) return 'HBO/WO';
    if ((lvl||'').includes('Basis')) return 'BASIS';
    return 'MBO';
  }

  function werkNlSearchUrl(name) {
    return `https://www.werk.nl/werkzoekenden/beroepen-en-opleidingen/beroepen/zoeken?zoekterm=${encodeURIComponent(name)}`;
  }

  function normalizeWerkUrl(url){
    const u = (url||'').trim();
    if (/^https?:\/\/www\.werk\.nl\//i.test(u)) return u;
    return '';
  }

  function render(q='', lvl='all', sec='all', onlySel=false) {
    const container = document.getElementById('beroepenContainer');
    container.innerHTML = '';

    const filtered = beroepen.filter(b => {
      const entry = getEntry(b);
      const mQ  = !q || (b.n||'').toLowerCase().includes(q) || (b.s||'').toLowerCase().includes(q);
      const mL  = lvl === 'all' || (b.lvl||'').includes(lvl);
      const mS  = sec === 'all' || b.s === sec;
      const mSel = !onlySel || entry.like;
      return mQ && mL && mS && mSel;
    });

    document.getElementById('statusLine').textContent = `${filtered.length} van ${beroepen.length} beroepen`;

    filtered.forEach(b => {
      const entry  = getEntry(b);
      const k      = getKey(b);
      const pdfUrl = normalizeWerkUrl(b.url);
      const infoUrl = pdfUrl || werkNlSearchUrl(b.n);

      const card = document.createElement('div');
      card.className = 'card bg-white rounded-2xl p-5 shadow-sm border border-slate-100 flex flex-col justify-between';

      card.innerHTML = `
        <div>
          <div class="flex justify-between items-start gap-2 mb-2">
            <span class="text-[10px] font-bold uppercase tracking-widest text-slate-400 leading-tight">${esc(b.s)}</span>
            <span class="px-2 py-0.5 rounded text-[10px] font-bold uppercase flex-shrink-0 ${lvlBadge(b.lvl)}">${lvlLabel(b.lvl)}</span>
          </div>

          <h3 class="text-base font-bold mb-3 leading-snug" style="color:var(--blue)">${esc(b.n)}</h3>

          <label class="flex items-center gap-2 cursor-pointer mb-3 group">
            <input data-k="${esc(k)}" data-f="like" type="checkbox"
                   class="w-4 h-4 rounded cursor-pointer" style="accent-color:var(--orange);"
                   ${entry.like ? 'checked' : ''}>
            <span class="text-sm font-semibold text-slate-700 group-hover:text-orange-600 transition-colors">Vind ik leuk</span>
          </label>

          <label class="flex items-center gap-2 cursor-pointer mb-4">
            <input data-k="${esc(k)}" data-f="doelgroep" type="checkbox"
                   class="w-4 h-4 rounded cursor-pointer" style="accent-color:var(--mid);"
                   ${entry.doelgroep ? 'checked' : ''}>
            <span class="text-sm text-slate-500">Doelgroep-registratie</span>
          </label>
        </div>

        <div class="space-y-2.5">
          <textarea data-k="${esc(k)}" data-f="note"
            placeholder="Notities: wat trekt me aan? Wat houdt me tegen?"
            class="w-full bg-slate-50 border border-slate-100 rounded-xl p-3 text-xs text-slate-700 leading-relaxed">${esc(entry.note||'')}</textarea>

          <a href="${esc(infoUrl)}" target="_blank" rel="noopener"
             class="inline-flex items-center gap-1 text-xs font-semibold hover:underline"
             style="color:var(--mid);">
            ‚Ñπ Meer info op Werk.nl
          </a>
        </div>
      `;
      container.appendChild(card);
    });

    container.querySelectorAll('input[type=checkbox]').forEach(cb => {
      cb.addEventListener('change', e => {
        const k = e.target.dataset.k, f = e.target.dataset.f;
        userState[k] = userState[k] || { like:false, doelgroep:false, note:'' };
        userState[k][f] = e.target.checked;
        saveUserState();
        if (document.getElementById('selectedFilter').value === 'selected') filterContent();
      });
    });

    container.querySelectorAll('textarea').forEach(ta => {
      ta.addEventListener('input', e => {
        const k = e.target.dataset.k, f = e.target.dataset.f;
        userState[k] = userState[k] || { like:false, doelgroep:false, note:'' };
        userState[k][f] = e.target.value;
        saveUserState();
      });
    });
  }

  // =====================================================================
  // PDF PARSER ‚Äî FIX: elke bullet wordt een eigen beroep (geen samenvoegen)
  // =====================================================================
  const SECTORS_LIST = [
    "Bouw","Installatie","Voertuigentechniek","Industrie",
    "Transport - logistiek","Veiligheid","Detailhandel","Horeca",
    "Landbouw, natuur en milieu","Schoonmaak - reiniging",
    "Commercieel \u2013 HR - strategie","Financieel en administratie \u2013 juridisch",
    "ICT","Overheid","Onderwijs - pedagogisch","Zorg"
  ];

  function normalizeSector(t) {
    return (t||'').replace(/\s*-\s*/g,' - ').replace(/\s*\u2013\s*/g,' \u2013 ').replace(/\s+/g,' ').trim();
  }

  function findSector(text) {
    const norm = normalizeSector(text);
    for (const s of SECTORS_LIST) {
      if (norm === s) return s;
      if (norm.startsWith(s) && norm.slice(s.length).trim().length <= 3) return s;
    }
    return null;
  }

  function detectLevel(text) {
    const t = (text||'').toLowerCase();
    if (t.includes('basisvakmanschap') && !t.includes('middelbaar')) return 'Basis';
    if (t.includes('middelbaar beroepsniveau')) return 'Middelbaar';
    if (t.includes('hoger / wetenschappelijk') || t.includes('hoger/wetenschappelijk')) return 'Hoger';
    return null;
  }

  // Verwijder voetnootcijfers en overtollige spaties achteraan
  function cleanName(t) {
    return (t||'')
      .replace(/[\s,]*\d[\d,\s]*$/, '')   // voetnoten aan het einde
      .replace(/\s+/g, ' ')
      .trim();
  }

  function isNoise(t) {
    const s = (t||'').trim();
    if (s.length < 4) return true;
    if (/^[\d\s,.\-\u2013]+$/.test(s)) return true;
    const letters = (s.match(/[A-Za-z\u00C0-\u00FF]/g)||[]).length;
    return letters < 4;
  }

  function isFooter(text) {
    const t = (text||'').toLowerCase().trim();
    if (!t) return true;
    if (t === 'home' || t === 'uwv' || t.startsWith('home ')) return true;
    if (/^kansrijke beroepen/i.test(t)) return true;
    return false;
  }

  function bestLinkForY(links, y, maxDy=8){
    let best = null, bestDy = Infinity;
    for (const l of links) {
      const dy = Math.abs(l.y - y);
      if (dy <= maxDy && dy < bestDy) { bestDy = dy; best = l; }
    }
    return best ? best.url : '';
  }

  async function parsePdfFile(arrayBuffer) {
    if (!window.pdfjsLib) throw new Error('PDF.js niet geladen. Ververs de pagina.');
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

    const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
    const allBeroepen = [];

    // Bouw regels op uit items van √©√©n kolom
    // Items worden gesorteerd op Y (hoog ‚Üí laag = boven ‚Üí onder in PDF.js-co√∂rdinaten)
    function buildLines(colItems) {
      const rows = new Map();
      for (const it of colItems) {
        const ky = Math.round(it.y / 3) * 3;
        if (!rows.has(ky)) rows.set(ky, []);
        rows.get(ky).push(it);
      }
      return [...rows.entries()]
        .sort((a, b) => b[0] - a[0]) // aflopend = van boven naar onder
        .map(([ky, arr]) => {
          arr.sort((a, b) => a.x - b.x);
          return {
            y: ky,
            minX: arr[0].x,
            text: arr.map(w => w.text).join(' ').replace(/\s+/g, ' ').trim()
          };
        })
        .filter(l => l.text && !isFooter(l.text));
    }

    // FIX: parseColumn verwerkt elke bullet als een apart beroep.
    // Als een bullet-naam zelf een bullet-teken bevat, wordt die gesplitst.
    function parseColumn(lines, ann, initSector, initLevel) {
      const result = [];
      let sector = initSector;
      let level  = initLevel;

      for (let i = 0; i < lines.length; i++) {
        const { text, minX, y } = lines[i];
        const isBullet = /^[\u25AA\u25aa\u25cf\u2022\u25a0\u25AB\u25ab]/.test(text);

        if (!isBullet) {
          const sec = findSector(text);
          if (sec) { sector = sec; level = null; continue; }
          const lvl = detectLevel(text);
          if (lvl) { level = lvl; continue; }
          continue;
        }

        // Haal tekst op na het bullet-teken
        let bulletText = text.slice(1).trim();

        // Als de bullet zelf leeg is, check de volgende regel
        if (!bulletText && i + 1 < lines.length) {
          const next = lines[i + 1];
          const nextIsBullet = /^[\u25AA\u25aa\u25cf\u2022\u25a0\u25AB\u25ab]/.test(next.text);
          const nextIsHeader = !!findSector(next.text) || !!detectLevel(next.text);
          const gapY = Math.abs(y - next.y);
          if (!nextIsBullet && !nextIsHeader && gapY <= 25) {
            bulletText = next.text.trim();
            i++;
          }
        }

        // Controleer of de volgende regel een afgebroken vervolg is van dezelfde naam
        // (maar ALLEEN als de tekst GEEN bullet-teken bevat)
        if (bulletText && i + 1 < lines.length) {
          const next = lines[i + 1];
          const nextIsBullet = /^[\u25AA\u25aa\u25cf\u2022\u25a0\u25AB\u25ab]/.test(next.text);
          const nextIsHeader = !!findSector(next.text) || !!detectLevel(next.text);
          const gapY = Math.abs(y - next.y);
          const indented = next.minX > minX + 5;
          // Vervolgregel alleen samenvoegen als hij inspringt EN geen bullet-teken bevat
          if (!nextIsBullet && !nextIsHeader && indented && gapY <= 20 && !BULLET_CHARS.test(next.text)) {
            bulletText = (bulletText + ' ' + next.text).replace(/\s+/g, ' ').trim();
            i++;
          }
        }

        // FIX: split op bullet-tekens als er per ongeluk meerdere beroepen in √©√©n string zitten
        // Dit vangt gevallen op waarbij de kolomsplitsing niet perfect was
        const subParts = bulletText.split(BULLET_CHARS);

        for (const part of subParts) {
          const name = cleanName(part);
          if (!isNoise(name) && sector && level) {
            const url = bestLinkForY(ann, y, 8);
            result.push({
              s: sector,
              n: name,
              lvl: level,
              info: 'Uit UWV-lijst kansrijke beroepen',
              url: url || ''
            });
          }
        }
      }
      return result;
    }

    for (let p = 1; p <= pdf.numPages; p++) {
      // Sla intro-pagina's en laatste pagina over
      if (p === 1 || p === 2 || p === pdf.numPages) continue;

      const page    = await pdf.getPage(p);
      const vp      = page.getViewport({ scale: 1 });
      const content = await page.getTextContent();

      // Haal annotaties op (Werk.nl links)
      let ann = [];
      try {
        const anns = await page.getAnnotations();
        ann = (anns || [])
          .filter(a => a?.subtype === 'Link' && a.rect)
          .map(a => ({
            url: a.url || (a.action?.url) || '',
            y:   Math.round(((a.rect[1] + a.rect[3]) / 2) / 3) * 3
          }))
          .filter(a => /^https?:\/\/www\.werk\.nl\//i.test(a.url));
      } catch { ann = []; }

      // Alleen items met positieve X-co√∂rdinaat (negatieve = achtergrondlaag)
      const items = (content.items || [])
        .filter(it => it.str?.trim() && it.transform[4] > 0)
        .map(it => ({
          x: it.transform[4],
          y: it.transform[5],
          text: it.str.trim().replace(/\u00A0/g, ' ')
        }));

      if (!items.length) continue;

      // Detecteer kolomsplitsing: zoek de gap dichtst bij het midden van de pagina
      const xVals = [...new Set(items.map(it => Math.round(it.x)))].sort((a, b) => a - b);
      const center = vp.width / 2;
      let splitX = center;
      let bestDist = Infinity;
      for (let j = 1; j < xVals.length; j++) {
        const gap = xVals[j] - xVals[j - 1];
        if (gap > 30) {
          const mid = (xVals[j - 1] + xVals[j]) / 2;
          if (mid > vp.width * 0.2 && mid < vp.width * 0.8) {
            const dist = Math.abs(mid - center);
            if (dist < bestDist) { bestDist = dist; splitX = mid; }
          }
        }
      }

      const leftItems  = items.filter(it => it.x < splitX);
      const rightItems = items.filter(it => it.x >= splitX);

      const leftLines  = buildLines(leftItems);
      const rightLines = buildLines(rightItems);

      // Parse linkerkolom
      const leftResult = parseColumn(leftLines, ann, null, null);
      allBeroepen.push(...leftResult);

      // Bepaal de laatste bekende sector/level uit de linkerkolom
      // zodat de rechterkolom die kan erven als die zelf geen eigen header heeft
      let inheritedSector = null, inheritedLevel = null;
      for (const b of [...leftResult].reverse()) {
        if (!inheritedSector && b.s) inheritedSector = b.s;
        if (!inheritedLevel && b.lvl) inheritedLevel = b.lvl;
        if (inheritedSector && inheritedLevel) break;
      }
      // Fallback: scan leftLines voor de laatste sector/level header
      if (!inheritedSector || !inheritedLevel) {
        for (const line of [...leftLines].reverse()) {
          if (!inheritedSector) {
            const sec = findSector(line.text);
            if (sec) inheritedSector = sec;
          }
          if (!inheritedLevel) {
            const lvl = detectLevel(line.text);
            if (lvl) inheritedLevel = lvl;
          }
          if (inheritedSector && inheritedLevel) break;
        }
      }

      const rightResult = parseColumn(rightLines, ann, inheritedSector, inheritedLevel);
      allBeroepen.push(...rightResult);
    }

    // Dedupliceer op basis van sector + naam
    const seen = new Set();
    return allBeroepen.filter(b => {
      const k = getKey(b);
      if (seen.has(k)) return false;
      seen.add(k);
      return true;
    });
  }

  // =====================================================================
  // INSTELLINGEN ACTIES
  // =====================================================================
  document.getElementById('pdfFileInput').addEventListener('change', async () => {
    const file = document.getElementById('pdfFileInput').files?.[0];
    if (!file) return;
    setMsg('\u23F3 PDF wordt gelezen\u2026', 'slate');
    try {
      const bytes  = await file.arrayBuffer();
      const parsed = await parsePdfFile(bytes);
      if (!parsed.length) {
        setMsg('\u274C Geen beroepen gevonden. Probeer de offici√´le UWV PDF.', 'red');
        return;
      }
      saveData(parsed);
      refreshSectorDropdown();
      filterContent();
      setMsg(`\u2705 Klaar! ${parsed.length} beroepen ingeladen (met echte "Meer info" links).`, 'green');
      showPortal();
    } catch(e) {
      setMsg(`\u274C Fout: ${e.message}`, 'red');
    }
  });

  function loadDefault() {
    saveData(INGEBOUWDE_DATA);
    refreshSectorDropdown();
    filterContent();
    setMsg('\u2705 Standaard data geladen. (Links zijn dan zoeklinks.)', 'green');
    showPortal();
    updatePdfBanner();
  }

  function clearUserState() {
    localStorage.removeItem(STORAGE_STATE);
    userState = {};
    setMsg('\u2705 Jouw notities en vinkjes zijn gewist.', 'green');
    filterContent();
  }

  function setMsg(msg, color) {
    const colors = { green:'text-emerald-700', red:'text-red-600', slate:'text-slate-600' };
    document.getElementById('settingsMsg').innerHTML =
      `<span class="font-semibold ${colors[color]||'text-slate-600'}">${esc(msg)}</span>`;
  }

  // =====================================================================
  // EXPORT (print) - client versie
  // =====================================================================
  document.getElementById('exportBtn').addEventListener('click', () => {
    const orientEl = document.getElementById('printOrientation');
    const orient = orientEl ? orientEl.value : 'portrait';
    applyPrintOrientation(orient);
    // Verberg begeleider export, toon client export
    document.getElementById('exportView').classList.remove('hidden');
    document.getElementById('begelExportView').classList.add('hidden');
    buildExport();
    window.print();
    // Direct na print: embed JSON zodat begeleider het kan importeren
    embedExportData();
  });

  function applyPrintOrientation(mode){
    const el = document.getElementById('printPageStyle');
    const size = (mode === 'landscape') ? 'A4 landscape' : 'A4 portrait';
    el.textContent = `@media print { @page { size: ${size}; margin: 12mm; } }`;
  }

  // Embed de JSON-data in het export-document zodat de begeleider het kan inladen
  function embedExportData() {
    const selected = beroepen
      .map(b => ({ b, entry: getEntry(b) }))
      .filter(x => x.entry.like);

    const payload = {
      version: 'bp2026-v1',
      exportedAt: new Date().toISOString(),
      beroepen: selected.map(({ b, entry }) => ({
        s: b.s, n: b.n, lvl: b.lvl, url: b.url || '',
        like: entry.like,
        doelgroep: entry.doelgroep,
        note: entry.note || ''
      }))
    };

    const tag = document.getElementById('exportDataEmbed');
    if (tag) tag.textContent = JSON.stringify(payload);
  }

  function lvlBadgeCls(lvl){
    if ((lvl||'').includes('Hoger')) return 'lvl-hoger';
    if ((lvl||'').includes('Basis')) return 'lvl-basis';
    return 'lvl-mid';
  }
  function lvlLbl(lvl){
    if ((lvl||'').includes('Hoger')) return 'HBO/WO';
    if ((lvl||'').includes('Basis')) return 'BASIS';
    return 'MBO';
  }

  function buildExport() {
    const selected = beroepen
      .map(b => ({ b, entry: getEntry(b) }))
      .filter(x => x.entry.like);

    const exportList = document.getElementById('exportList');
    exportList.innerHTML = '';

    const now = new Date();
    document.getElementById('exportMeta').textContent = `Aangemaakt: ${now.toLocaleString('nl-NL')}`;
    document.getElementById('exportSubtitle').textContent =
      selected.length
        ? `${selected.length} beroep${selected.length !== 1 ? 'en' : ''} geselecteerd`
        : 'Geen beroepen geselecteerd';

    if (!selected.length) {
      exportList.innerHTML = `
        <div class="p-5 border rounded-xl bg-slate-50 text-slate-600 text-sm">
          Je hebt nog geen beroepen aangevinkt. Ga naar het portaal en vink beroepen aan via "Aangevinkt".
        </div>`;
      return;
    }

    const groups = {};
    for (const item of selected) {
      const s = item.b.s || 'Overig';
      if (!groups[s]) groups[s] = [];
      groups[s].push(item);
    }

    const lvlOrder = { Basis:0, Middelbaar:1, Hoger:2 };

    for (const sector of Object.keys(groups).sort((a,b) => a.localeCompare(b,'nl'))) {
      const items = groups[sector].sort((a,b) =>
        (lvlOrder[a.b.lvl]||9) - (lvlOrder[b.b.lvl]||9) ||
        (a.b.n||'').localeCompare((b.b.n||''),'nl')
      );

      const block = document.createElement('div');
      block.className = 'export-card rounded-2xl overflow-hidden';

      const header = document.createElement('div');
      header.className = 'export-sector-header px-5 py-3 border-b border-slate-200';
      header.innerHTML = `<div class="font-bold text-sm uppercase tracking-wider" style="color:var(--blue)">${esc(sector)}</div>`;
      block.appendChild(header);

      const body = document.createElement('div');
      body.className = 'divide-y divide-slate-100';

      for (const { b, entry } of items) {
        const row = document.createElement('div');
        row.className = 'px-5 py-4';
        const note = (entry.note || '').trim();
        const doelgroepTxt = entry.doelgroep ? 'Ja' : 'Nee';
        row.innerHTML = `
          <div class="flex items-start justify-between gap-3 mb-1">
            <div class="font-semibold text-sm leading-snug" style="color:var(--blue)">${esc(b.n)}</div>
            <span class="px-2 py-0.5 rounded text-[10px] font-bold flex-shrink-0 export-lvl-badge ${lvlBadgeCls(b.lvl)}">${lvlLbl(b.lvl)}</span>
          </div>
          <div class="text-xs text-slate-500 mt-1">
            Doelgroep-registratie: <span class="font-semibold text-slate-700">${doelgroepTxt}</span>
          </div>
          ${note
            ? `<div class="text-sm text-slate-700 leading-relaxed mt-2 bg-slate-50 rounded-lg p-3">${esc(note)}</div>`
            : `<div class="text-xs text-slate-400 mt-2 italic">Geen notities ingevuld.</div>`
          }
        `;
        body.appendChild(row);
      }
      block.appendChild(body);
      exportList.appendChild(block);
    }
  }

  // =====================================================================
  // BEGELEIDER MODUS ‚Äî wachtwoord, import, aantekeningen, PDF export
  // =====================================================================
  const BEGEL_PW_KEY    = 'bp2026_begel_pw';
  const BEGEL_STATE_KEY = 'bp2026_begel_v2';
  const DEFAULT_PW      = 'begeleider';

  let begelData    = null;
  let begelState   = {};
  let begelUnlockedFlag = false;

  function getBegelPw() {
    return localStorage.getItem(BEGEL_PW_KEY) || DEFAULT_PW;
  }

  function checkBegelPw() {
    const input = document.getElementById('begelPwInput').value;
    if (input === getBegelPw()) {
      begelUnlockedFlag = true;
      document.getElementById('begelLockScreen').classList.add('hidden');
      document.getElementById('begelUnlocked').classList.remove('hidden');
      document.getElementById('begelPwError').classList.add('hidden');
      document.getElementById('begelPwInput').value = '';
      loadBegelState();
    } else {
      document.getElementById('begelPwError').classList.remove('hidden');
      document.getElementById('begelPwInput').value = '';
      document.getElementById('begelPwInput').focus();
    }
  }

  function logoutBegel() {
    begelUnlockedFlag = false;
    document.getElementById('begelUnlocked').classList.add('hidden');
    document.getElementById('begelLockScreen').classList.remove('hidden');
    document.getElementById('begelPwInput').value = '';
  }

  function showChangePassword() {
    document.getElementById('changePwPanel').classList.toggle('hidden');
  }

  function doChangePassword() {
    const old   = document.getElementById('oldPwInput').value;
    const nw    = document.getElementById('newPwInput').value;
    const nw2   = document.getElementById('newPwInput2').value;
    const msgEl = document.getElementById('changePwMsg');

    if (old !== getBegelPw()) {
      msgEl.textContent = '‚ùå Huidig wachtwoord klopt niet.';
      msgEl.className = 'mt-2 text-xs text-red-500';
      return;
    }
    if (!nw || nw.length < 4) {
      msgEl.textContent = '‚ùå Nieuw wachtwoord moet minimaal 4 tekens zijn.';
      msgEl.className = 'mt-2 text-xs text-red-500';
      return;
    }
    if (nw !== nw2) {
      msgEl.textContent = '‚ùå Wachtwoorden komen niet overeen.';
      msgEl.className = 'mt-2 text-xs text-red-500';
      return;
    }
    localStorage.setItem(BEGEL_PW_KEY, nw);
    msgEl.textContent = '‚úÖ Wachtwoord opgeslagen!';
    msgEl.className = 'mt-2 text-xs text-emerald-600';
    document.getElementById('oldPwInput').value = '';
    document.getElementById('newPwInput').value = '';
    document.getElementById('newPwInput2').value = '';
  }

  function getBegelEntry(key) {
    if (!begelState[key]) begelState[key] = { sterren: 0, advies: '', stappen: '', lks: '', doelgroepFunctie: false };
    return begelState[key];
  }

  function saveBegel() {
    localStorage.setItem(BEGEL_STATE_KEY, JSON.stringify({
      naam: document.getElementById('begelNaamInput').value,
      state: begelState
    }));
  }

  function loadBegelState() {
    try {
      const r = JSON.parse(localStorage.getItem(BEGEL_STATE_KEY));
      if (r) {
        begelState = r.state || {};
        if (r.naam) document.getElementById('begelNaamInput').value = r.naam;
      }
    } catch {}
  }

  function showBegeleider() {
    ['portalView','settingsView','helpView'].forEach(id =>
      document.getElementById(id).classList.add('hidden')
    );
    document.getElementById('begelView').classList.remove('hidden');
    ['tabPortalBtn','tabHelpBtn','tabSettingsBtn'].forEach(id => {
      document.getElementById(id).style.cssText = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    });
    document.getElementById('tabBegelBtn').style.cssText = 'background:#7c3aed;color:white;';
    // Als al ingelogd in deze sessie, toon werkruimte direct
    if (begelUnlockedFlag) {
      document.getElementById('begelLockScreen').classList.add('hidden');
      document.getElementById('begelUnlocked').classList.remove('hidden');
    }
  }

  function handleBegelDrop(event) {
    event.preventDefault();
    document.getElementById('begelDropZone').classList.remove('bg-purple-100');
    const file = event.dataTransfer.files[0];
    if (file) handleBegelFile(file);
  }

  function handleBegelFile(file) {
    if (!file) return;
    const reader = new FileReader();
    reader.onload = (e) => {
      try {
        const html = e.target.result;
        const match = html.match(/<script[^>]+id="exportDataEmbed"[^>]*>([\s\S]*?)<\/script>/);
        if (!match || !match[1].trim() || match[1].trim() === 'null') {
          alert('Dit bestand bevat geen importeerbare cli√´ntdata.\n\nZorg dat de cli√´nt zijn selectie exporteert via "‚¨á Export mijn selectie" en het .html bestand opslaat (niet als PDF printen).');
          return;
        }
        const payload = JSON.parse(match[1]);
        if (!payload?.beroepen?.length) {
          alert('Geen beroepen gevonden in dit exportbestand.');
          return;
        }
        begelData = payload;
        loadBegelState();
        renderBegelWorkspace();
      } catch(err) {
        alert('Fout bij het lezen van het bestand: ' + err.message);
      }
    };
    reader.readAsText(file, 'utf-8');
  }

  function resetBegel() {
    begelData = null;
    document.getElementById('begelImportZone').classList.remove('hidden');
    document.getElementById('begelWorkspace').classList.add('hidden');
    document.getElementById('begelFileInput').value = '';
  }

  function begelSterLabel(n) {
    return ['‚Äî','Slecht passend','Matig passend','Redelijk passend','Goed passend','Uitstekend passend'][n] || '‚Äî';
  }

  function renderBegelWorkspace() {
    document.getElementById('begelImportZone').classList.add('hidden');
    document.getElementById('begelWorkspace').classList.remove('hidden');

    const count = begelData.beroepen.length;
    const exportedAt = begelData.exportedAt
      ? new Date(begelData.exportedAt).toLocaleString('nl-NL') : 'onbekend';
    document.getElementById('begelInfoBar').textContent =
      `${count} beroep${count !== 1 ? 'en' : ''} ¬∑ Cli√´ntexport van ${exportedAt}`;

    const container = document.getElementById('begelBeroepenContainer');
    container.innerHTML = '';

    const groups = {};
    for (const b of begelData.beroepen) {
      if (!groups[b.s]) groups[b.s] = [];
      groups[b.s].push(b);
    }

    for (const sector of Object.keys(groups).sort((a,b) => a.localeCompare(b,'nl'))) {
      const sh = document.createElement('div');
      sh.className = 'text-xs font-bold uppercase tracking-widest text-purple-600 px-1 pt-3 pb-1';
      sh.textContent = sector;
      container.appendChild(sh);

      for (const b of groups[sector]) {
        const key   = `${b.s}||${b.n}`.toLowerCase();
        const entry = getBegelEntry(key);

        const card = document.createElement('div');
        card.className = 'bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden';
        card.innerHTML = `
          <!-- Cli√´nt info -->
          <div class="bg-slate-50 border-b border-slate-100 px-5 py-4">
            <div class="flex items-start justify-between gap-2 mb-2">
              <div class="font-bold text-sm leading-snug" style="color:var(--blue)">${esc(b.n)}</div>
              <span class="px-2 py-0.5 rounded text-[10px] font-bold flex-shrink-0 ${lvlBadgeCls(b.lvl)}">${lvlLbl(b.lvl)}</span>
            </div>
            <div class="flex flex-wrap gap-3 text-xs text-slate-500 mb-2">
              <span>Cli√´nt doelgroep-vinkje: <strong class="${b.doelgroep ? 'text-blue-700' : 'text-slate-500'}">${b.doelgroep ? '‚úì Ja' : 'Nee'}</strong></span>
            </div>
            ${b.note
              ? `<div class="text-xs text-slate-700 bg-orange-50 border border-orange-100 rounded-xl p-3 leading-relaxed">
                  <span class="text-orange-500 font-bold text-[10px] uppercase block mb-0.5">Cli√´nt-notitie</span>
                  ${esc(b.note)}
                </div>`
              : `<div class="text-xs text-slate-400 italic">Geen cli√´nt-notitie</div>`}
          </div>

          <!-- Begeleider velden -->
          <div class="px-5 py-5 space-y-4">
            <div class="text-xs font-bold uppercase tracking-widest text-purple-500">Begeleider-aantekeningen</div>

            <!-- Doelgroep functie (door begeleider) -->
            <div class="flex items-start gap-3 p-3 rounded-xl border-2 cursor-pointer select-none transition ${entry.doelgroepFunctie ? 'border-blue-400 bg-blue-50' : 'border-slate-200 bg-slate-50'}"
                 id="doelgroepCard-${esc(key)}"
                 onclick="toggleDoelgroepFunctie('${esc(key)}')">
              <div class="w-5 h-5 rounded flex-shrink-0 mt-0.5 flex items-center justify-center border-2 transition ${entry.doelgroepFunctie ? 'border-blue-500 bg-blue-500' : 'border-slate-300 bg-white'}"
                   id="doelgroepCheck-${esc(key)}">
                ${entry.doelgroepFunctie ? '<svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>' : ''}
              </div>
              <div>
                <div class="text-sm font-bold ${entry.doelgroepFunctie ? 'text-blue-800' : 'text-slate-700'}">Doelgroepfunctie (begeleider)</div>
                <div class="text-xs ${entry.doelgroepFunctie ? 'text-blue-600' : 'text-slate-400'} mt-0.5">
                  ${entry.doelgroepFunctie ? '‚úì Dit beroep is aangemerkt als doelgroepfunctie' : 'Klik om te markeren als doelgroepfunctie'}
                </div>
              </div>
            </div>

            <!-- Sterren -->
            <div>
              <div class="text-xs font-semibold text-slate-600 mb-2">Passendheid</div>
              <div class="flex items-center gap-1 star-group" data-key="${esc(key)}">
                ${[1,2,3,4,5].map(i => `
                  <button type="button" onclick="setSterren('${esc(key)}', ${i})"
                    class="text-3xl leading-none hover:scale-110 transition-transform focus:outline-none"
                    data-star="${i}"
                    style="color:${entry.sterren >= i ? '#f59e0b' : '#e2e8f0'};">‚òÖ</button>
                `).join('')}
                <span class="ml-2 text-xs font-medium text-slate-500 star-label-${esc(key)}">${begelSterLabel(entry.sterren)}</span>
              </div>
            </div>

            <!-- LKS -->
            <div>
              <label class="text-xs font-semibold text-slate-600 block mb-1.5">Loonkostensubsidie (LKS %)</label>
              <div class="flex items-center gap-3">
                <input type="number" min="0" max="100"
                  data-key="${esc(key)}" data-field="lks"
                  oninput="updateBegelField(this)"
                  value="${esc(bEntry_lks_safe(entry.lks))}"
                  placeholder="bijv. 40"
                  class="w-24 p-2.5 border border-purple-100 bg-purple-50 rounded-xl text-sm font-bold text-center outline-none focus:border-purple-400">
                <span class="text-sm text-slate-400">% van wettelijk minimumloon</span>
              </div>
            </div>

            <!-- Advies -->
            <div>
              <label class="text-xs font-semibold text-slate-600 block mb-1.5">Professioneel advies / beoordeling</label>
              <textarea data-key="${esc(key)}" data-field="advies" oninput="updateBegelField(this)"
                placeholder="Bijv: Goed passend bij fysieke capaciteiten. Opleiding via ROC Mondriaan is haalbaar binnen 12 maanden."
                class="w-full bg-purple-50 border border-purple-100 rounded-xl p-3 text-xs text-slate-700 leading-relaxed focus:outline-none focus:border-purple-400"
                style="min-height:68px;resize:none;">${esc(entry.advies)}</textarea>
            </div>

            <!-- Vervolgstappen -->
            <div>
              <label class="text-xs font-semibold text-slate-600 block mb-1.5">Concrete vervolgstappen</label>
              <textarea data-key="${esc(key)}" data-field="stappen" oninput="updateBegelField(this)"
                placeholder="Bijv:&#10;1. Ori√´ntatiegesprek met werkgever X (week 3)&#10;2. Open dag ROC ‚Äì 15 april&#10;3. Terugkoppeling volgende sessie"
                class="w-full bg-purple-50 border border-purple-100 rounded-xl p-3 text-xs text-slate-700 leading-relaxed focus:outline-none focus:border-purple-400"
                style="min-height:80px;resize:none;">${esc(entry.stappen)}</textarea>
            </div>
          </div>
        `;
        container.appendChild(card);
      }
    }
  }

  // Hulpfunctie om lege lks waarde veilig te tonen
  function bEntry_lks_safe(v) { return (v === null || v === undefined) ? '' : v; }

  function toggleDoelgroepFunctie(key) {
    const entry = getBegelEntry(key);
    entry.doelgroepFunctie = !entry.doelgroepFunctie;
    saveBegel();

    const card  = document.getElementById(`doelgroepCard-${key}`);
    const check = document.getElementById(`doelgroepCheck-${key}`);
    if (!card || !check) return;

    if (entry.doelgroepFunctie) {
      card.className  = card.className.replace('border-slate-200 bg-slate-50','border-blue-400 bg-blue-50');
      check.className = check.className.replace('border-slate-300 bg-white','border-blue-500 bg-blue-500');
      check.innerHTML = '<svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>';
      card.querySelector('.text-sm').className = 'text-sm font-bold text-blue-800';
      card.querySelector('.text-xs').className = 'text-xs text-blue-600 mt-0.5';
      card.querySelector('.text-xs').textContent = '‚úì Dit beroep is aangemerkt als doelgroepfunctie';
    } else {
      card.className  = card.className.replace('border-blue-400 bg-blue-50','border-slate-200 bg-slate-50');
      check.className = check.className.replace('border-blue-500 bg-blue-500','border-slate-300 bg-white');
      check.innerHTML = '';
      card.querySelector('.text-sm').className = 'text-sm font-bold text-slate-700';
      card.querySelector('.text-xs').className = 'text-xs text-slate-400 mt-0.5';
      card.querySelector('.text-xs').textContent = 'Klik om te markeren als doelgroepfunctie';
    }
  }

  function setSterren(key, n) {
    const entry = getBegelEntry(key);
    entry.sterren = (entry.sterren === n) ? 0 : n;
    saveBegel();
    const group = document.querySelector(`.star-group[data-key="${key}"]`);
    if (group) {
      group.querySelectorAll('[data-star]').forEach(btn => {
        btn.style.color = entry.sterren >= parseInt(btn.dataset.star) ? '#f59e0b' : '#e2e8f0';
      });
      const lbl = document.querySelector(`.star-label-${key}`);
      if (lbl) lbl.textContent = begelSterLabel(entry.sterren);
    }
  }

  function updateBegelField(el) {
    const key   = el.dataset.key;
    const field = el.dataset.field;
    const entry = getBegelEntry(key);
    entry[field] = el.value;
    saveBegel();
  }

  // =====================================================================
  // PDF EXPORT ‚Äî begeleider dossier
  // =====================================================================
  function exportBegelCombined() {
    if (!begelData) return;
    applyPrintOrientation('portrait');

    document.getElementById('exportView').classList.add('hidden');
    document.getElementById('begelExportView').classList.remove('hidden');
    buildBegelExport();

    window.print();

    setTimeout(() => {
      document.getElementById('begelExportView').classList.add('hidden');
    }, 500);
  }

  function buildBegelExport() {
    const begelNaam = document.getElementById('begelNaamInput').value.trim() || 'Begeleider';
    const now = new Date();

    document.getElementById('begelExportBegeleider').textContent = begelNaam;
    document.getElementById('begelExportMeta').textContent = `Aangemaakt: ${now.toLocaleString('nl-NL')}`;
    document.getElementById('begelExportSubtitle').textContent =
      `${begelData.beroepen.length} beroepen ¬∑ Cli√´ntexport: ${new Date(begelData.exportedAt).toLocaleDateString('nl-NL')}`;

    const list = document.getElementById('begelExportList');
    list.innerHTML = '';

    const groups = {};
    for (const b of begelData.beroepen) {
      if (!groups[b.s]) groups[b.s] = [];
      groups[b.s].push(b);
    }
    const lvlOrder = { Basis:0, Middelbaar:1, Hoger:2 };

    for (const sector of Object.keys(groups).sort((a,z) => a.localeCompare(z,'nl'))) {
      const items = groups[sector].sort((a,b) =>
        (lvlOrder[a.lvl]||9)-(lvlOrder[b.lvl]||9) ||
        (a.n||'').localeCompare((b.n||''),'nl')
      );

      const block = document.createElement('div');
      block.className = 'export-card rounded-2xl overflow-hidden mb-5';
      block.innerHTML = `<div class="export-sector-header px-5 py-3 border-b border-slate-200">
        <div class="font-bold text-sm uppercase tracking-wider" style="color:var(--blue)">${esc(sector)}</div>
      </div>`;

      const body = document.createElement('div');
      body.className = 'divide-y divide-slate-100';

      for (const b of items) {
        const key   = `${b.s}||${b.n}`.toLowerCase();
        const begel = getBegelEntry(key);

        const sterHtml = begel.sterren
          ? `<span style="color:#f59e0b;letter-spacing:-1px;">${'‚òÖ'.repeat(begel.sterren)}${'‚òÜ'.repeat(5-begel.sterren)}</span>
             <span style="color:#6b7280;font-size:10px;margin-left:4px;">${begelSterLabel(begel.sterren)}</span>`
          : '';

        const row = document.createElement('div');
        row.className = 'px-5 py-5';
        row.innerHTML = `
          <!-- Koptekst -->
          <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:10px;">
            <div style="font-weight:700;font-size:14px;color:#003082;line-height:1.3;">${esc(b.n)}</div>
            <div style="display:flex;align-items:center;gap:8px;flex-shrink:0;">
              ${sterHtml}
              <span class="px-2 py-0.5 rounded text-xs font-bold export-lvl-badge ${lvlBadgeCls(b.lvl)}">${lvlLbl(b.lvl)}</span>
            </div>
          </div>

          <!-- Status badges -->
          <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px;">
            ${b.doelgroep ? `<span style="background:#dbeafe;color:#1e40af;font-size:10px;font-weight:700;padding:2px 8px;border-radius:6px;">CLI√ãNT: DOELGROEP-VINKJE ‚úì</span>` : ''}
            ${begel.doelgroepFunctie ? `<span style="background:#7c3aed;color:white;font-size:10px;font-weight:700;padding:2px 8px;border-radius:6px;">DOELGROEPFUNCTIE (BEGELEIDER) ‚úì</span>` : ''}
            ${begel.lks ? `<span style="background:#f0fdf4;color:#166534;font-size:10px;font-weight:700;padding:2px 8px;border-radius:6px;">LKS: ${begel.lks}%</span>` : ''}
          </div>

          <!-- 2-koloms grid: cli√´nt + begeleider -->
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:${(begel.advies || begel.stappen) ? '10' : '0'}px;">
            <div style="background:#fff7ed;border:1px solid #fed7aa;border-radius:10px;padding:10px;">
              <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:#c2410c;margin-bottom:4px;">Cli√´nt-notitie</div>
              <div style="font-size:11px;color:#374151;line-height:1.5;">${b.note ? esc(b.note) : '<em style="color:#9ca3af;">Geen notitie</em>'}</div>
            </div>
            <div style="background:#eff6ff;border:1px solid #bfdbfe;border-radius:10px;padding:10px;">
              <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:#1d4ed8;margin-bottom:4px;">Doelgroep &amp; LKS</div>
              <div style="font-size:11px;color:#374151;line-height:1.6;">
                Cli√´nt-vinkje: <strong>${b.doelgroep ? 'Ja' : 'Nee'}</strong><br>
                Doelgroepfunctie: <strong>${begel.doelgroepFunctie ? 'Ja' : 'Nee'}</strong><br>
                LKS: <strong>${begel.lks ? begel.lks + '%' : '‚Äî'}</strong>
              </div>
            </div>
          </div>

          ${begel.advies ? `
          <div style="background:#f5f3ff;border:1px solid #ddd6fe;border-radius:10px;padding:10px;margin-bottom:8px;">
            <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:#6d28d9;margin-bottom:4px;">Begeleider-advies</div>
            <div style="font-size:11px;color:#374151;line-height:1.5;">${esc(begel.advies)}</div>
          </div>` : ''}

          ${begel.stappen ? `
          <div style="background:#f0fdf4;border:1px solid #bbf7d0;border-radius:10px;padding:10px;">
            <div style="font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:#166534;margin-bottom:4px;">Vervolgstappen</div>
            <div style="font-size:11px;color:#374151;line-height:1.6;white-space:pre-line;">${esc(begel.stappen)}</div>
          </div>` : ''}
        `;
        body.appendChild(row);
      }
      block.appendChild(body);
      list.appendChild(block);
    }
  }

  // =====================================================================
  // INIT
  // =====================================================================
  function init() {
    showPortal();
    document.getElementById('tabHelpBtn').style.cssText  = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    document.getElementById('tabBegelBtn').style.cssText = 'background:white;color:#374151;border:1px solid #e5e7eb;';
    updateBadge();
    refreshSectorDropdown();
    filterContent();
    updatePdfBanner();
  }

  window.addEventListener('load', () => {
    if (window.pdfjsLib) {
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    }
  });
  </script>

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>init();</script>

</body>
</html>
